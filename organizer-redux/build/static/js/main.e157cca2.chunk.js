(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,n){},104:function(e,t,n){},151:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(36),l=n.n(o),c=(n(92),n(4)),s=n(5),i=n(8),u=n(6),d=n(7),m=(n(95),n(12)),p=n(10),h=n(86),E=function(){function e(){Object(c.a)(this,e)}return Object(s.a)(e,null,[{key:"removeUser",value:function(){window.localStorage.removeItem("user")}},{key:"authenticateUser",value:function(e){window.localStorage.setItem("token",e)}},{key:"isUserAuthenticated",value:function(){return null!==window.localStorage.getItem("token")}},{key:"deauthenticateUser",value:function(){window.localStorage.removeItem("token")}},{key:"getToken",value:function(){return window.localStorage.getItem("token")}}]),e}(),f=function(e){var t=e.component,n=Object(h.a)(e,["component"]);return r.a.createElement(p.e,Object.assign({},n,{render:function(e){return E.isUserAuthenticated()?r.a.createElement(t,e):r.a.createElement(p.d,{to:{pathname:"/users/login",state:{from:e.location}}})}}))},b=function(e){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h1",null,"About Page")))},g=n(27),O=n(2),v=function(e){var t=e.type||"text";return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:e.name},e.placeholder),r.a.createElement("input",{type:t,className:"form-control",name:e.name,placeholder:e.placeholder,value:e.value,onChange:e.onChange}))},D=function(e){return r.a.createElement("div",null,r.a.createElement("input",{className:"btn btn-primary",type:"submit",value:e.value,onClick:e.onClick}))},S=function(e){return r.a.createElement("form",null,r.a.createElement("div",null,e.error),r.a.createElement(v,{name:"username",placeholder:"Username",value:e.username,onChange:e.onChange}),r.a.createElement(v,{type:"password",name:"password",placeholder:"Password",value:e.password,onChange:e.onChange}),r.a.createElement("br",null),r.a.createElement(D,{value:"Login",onClick:e.onSubmit}))},C=n(31),T=n.n(C),y=function(){var e="https://baas.kinvey.com/",t="kid_H1L5OCFUW",n="338746648e3b4bfa8e83a8ac221a1acc";function a(a,r,o,l){return{url:e+r+"/"+t+"/"+o,method:a,headers:{Authorization:function(e){if("basic"===e)return"Basic ".concat(btoa(t+":"+n));var a=E.getToken();return"Kinvey ".concat(a)}(l),"Content-Type":"application/json"}}}return{get:function(e,t,n){return T.a.ajax(a("GET",e,t,n))},post:function(e,t,n,r){var o=a("POST",e,t,n);return r&&(o.data=JSON.stringify(r)),T.a.ajax(o)},update:function(e,t,n,r){var o=a("PUT",e,t,n);return o.data=JSON.stringify(r),T.a.ajax(o)},remove:function(e,t,n){return T.a.ajax(a("DELETE",e,t,n))},handleError:function(e){return e.responseJSON.description}}}(),_=function(){function e(){Object(c.a)(this,e)}return Object(s.a)(e,null,[{key:"register",value:function(e,t){return y.post("user","","basic",{username:e,password:t})}},{key:"login",value:function(e,t){return y.post("user","login","basic",{username:e,password:t})}},{key:"logout",value:function(){return y.post("user","_logout","kinvey")}}]),e}(),k={LOGGIN_SUCCESS:"LOGGIN_SUCCESS",LOGOUT_SUCCESS:"LOGOUT_SUCCESS",AUTH_ERROR:"AUTH_ERROR",AUTH_REQUEST:"AUTH_REQUEST",LIST_CREATED:"LIST_CREATED",LIST_UPDATED:"LIST_UPDATED",LIST_DELETED:"LIST_DELETED",FETCH_LISTS_SUCCESS:"FETCH_LISTS_SUCCESS",FIND_ONE_BY_ID:"FIND_ONE_BY_ID",LIST_BY_ID_FETCHED:"LIST_BY_ID_FETCHED",TODO_CREATED:"TODO_CREATED",TODO_UPDATED:"TODO_UPDATED",TODO_DELETED:"TODO_DELETED",TODOS_FETCHED:"TODOS_FETCHED",TODOS_BY_LIST_FETCHED:"TODOS_BY_LIST_FETCHED",COMPLETED_TODOS_FETCHED:"COMPLETED_TODOS_FETCHED",TODO_BY_ID_FETCHED:"TODO_BY_ID_FETCHED",REMOTE_ERROR:"REMOTE_ERROR"};function j(){return{type:k.LOGGIN_SUCCESS}}function I(e){return{type:k.AUTH_ERROR,message:e}}function H(){return function(e){return _.logout().then(function(t){E.deauthenticateUser(),e({type:k.LOGOUT_SUCCESS})}).catch(function(t){var n=y.handleError(t);e(I(n))})}}var N=n(11),U=n.n(N),w=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={username:"",password:"",error:""},n.onInputChangeHandler=n.onInputChangeHandler.bind(Object(O.a)(Object(O.a)(n))),n.onSubmitHandler=n.onSubmitHandler.bind(Object(O.a)(Object(O.a)(n))),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"onInputChangeHandler",value:function(e){this.setState(Object(g.a)({},e.target.name,e.target.value))}},{key:"onSubmitHandler",value:function(e){e.preventDefault(),this.isValidForm()&&this.props.login(this.state.username.toLowerCase(),this.state.password)}},{key:"componentWillReceiveProps",value:function(e){e.error&&U.a.error(e.error),e.loggedIn&&(U.a.success("User login successfull!"),this.props.history.push("/"))}},{key:"isValidForm",value:function(){var e=this.state.username,t=this.state.password,n=!0,a="";return""!==e&&""!==t||(a="All input fields are required!",n=!1),a&&this.setState({error:a}),n}},{key:"render",value:function(){return console.log("Login Page render"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4 offset-md-4"},r.a.createElement("h1",null,"Login"),r.a.createElement("p",null,"Please enter your username and password."),r.a.createElement(S,{username:this.state.username,password:this.state.password,error:this.state.error,onChange:this.onInputChangeHandler,onSubmit:this.onSubmitHandler})))}}]),t}(a.Component);var L=Object(m.b)(function(e){return{loggedIn:e.auth.loggedIn,error:e.auth.error}},function(e){return{login:function(t,n){return e(function(e,t){return function(n){return _.login(e,t).then(function(e){E.authenticateUser(e._kmd.authtoken),n(j())}).catch(function(e){var t=y.handleError(e);n(I(t))})}}(t,n))}}})(w),A=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.props.logout()}},{key:"componentWillReceiveProps",value:function(e){e.error&&U.a.error(e.error),e.loggedIn||this.props.history.push("/users/login")}},{key:"render",value:function(){return null}}]),t}(a.Component);var R=Object(m.b)(function(e){return{loggedIn:e.auth.loggedIn,error:e.auth.error}},function(e){return{logout:function(){return e(H())}}})(A),P=function(e){return r.a.createElement("form",null,r.a.createElement("div",null,e.error),r.a.createElement(v,{name:"username",placeholder:"Username",value:e.username,onChange:e.onChange}),r.a.createElement(v,{type:"password",name:"password",placeholder:"Password",value:e.password,onChange:e.onChange}),r.a.createElement(v,{type:"password",name:"repeat",placeholder:"Confirm  Password",value:e.confirmPassword,onChange:e.onChange}),r.a.createElement("br",null),r.a.createElement(D,{value:"Register",onClick:e.onSubmit}))},F=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={username:"",password:"",repeat:"",error:""},n.onInputChangeHandler=n.onInputChangeHandler.bind(Object(O.a)(Object(O.a)(n))),n.onSubmitHandler=n.onSubmitHandler.bind(Object(O.a)(Object(O.a)(n))),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"onInputChangeHandler",value:function(e){this.setState(Object(g.a)({},e.target.name,e.target.value))}},{key:"onSubmitHandler",value:function(e){e.preventDefault(),this.isValidForm()&&this.props.register(this.state.username.toLowerCase(),this.state.password)}},{key:"componentWillReceiveProps",value:function(e){e.error&&U.a.error(e.error),e.loggedIn&&(U.a.success("User registration successfull!"),this.props.history.push("/"))}},{key:"isValidForm",value:function(){var e=this.state.username,t=this.state.password,n=!0,a="";return""!==e&&""!==t||(a="All input fields are required!",n=!1),t!==this.state.repeat&&(a="Passwords missmatch!",n=!1),a&&this.setState({error:a}),n}},{key:"render",value:function(){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4 offset-md-4"},r.a.createElement("h1",null,"Register"),r.a.createElement("p",null,"Please fill in this form to create an account."),r.a.createElement(P,{username:this.state.username,password:this.state.password,repeat:this.state.repeat,error:this.state.error,onChange:this.onInputChangeHandler,onSubmit:this.onSubmitHandler})))}}]),t}(a.Component);var B=Object(m.b)(function(e){return{loggedIn:e.auth.loggedIn,error:e.auth.error}},function(e){return{register:function(t,n){return e(function(e,t){return function(n){return _.register(e,t).then(function(e){E.authenticateUser(e._kmd.authtoken),n(j())}).catch(function(e){var t=y.handleError(e);n(I(t))})}}(t,n))}}})(F),M=function(){function e(){Object(c.a)(this,e)}return Object(s.a)(e,null,[{key:"create",value:function(e){return y.post("appdata","lists","kinvey",e)}},{key:"edit",value:function(e,t){return y.update("appdata","lists"+"/".concat(e),"kinvey",t)}},{key:"delete",value:function(e){return y.remove("appdata","lists"+"/".concat(e),"kinvey")}},{key:"getAll",value:function(){return y.get("appdata","lists","kinvey")}},{key:"getById",value:function(e){return y.get("appdata","lists"+"/".concat(e),"kinvey")}}]),e}();function V(e){return{type:k.REMOTE_ERROR,message:e}}function Y(e){return function(t){return M.create(e).then(function(e){t(function(e){return{type:k.LIST_CREATED,data:e}}(e))}).catch(function(e){var n=y.handleError(e);t(V(n))})}}function G(e,t){return function(n){return M.edit(e,t).then(function(e){n(function(e){return{type:k.LIST_UPDATED,data:e}}(e))}).catch(function(e){var t=y.handleError(e);n(V(t))})}}function W(e){return function(t){return M.delete(e).then(function(){t(function(e){return{type:k.LIST_DELETED,id:e}}(e))}).catch(function(e){var n=y.handleError(e);t(V(n))})}}function q(){return console.log("Fetching lists!!!"),function(e){return M.getAll().then(function(t){e(function(e){return{type:k.FETCH_LISTS_SUCCESS,data:e}}(t))}).catch(function(t){var n=y.handleError(t);e(V(n))})}}function x(e){return function(t){return M.getById(e).then(function(e){var n;t((n=e,{type:k.LIST_BY_ID_FETCHED,list:n}))}).catch(function(e){var n=y.handleError(e);t(V(n))})}}var K={MODE_CREATE:"MODE_CREATE",MODE_READ:"MODE_READ",MODE_UPDATE:"MODE_UPDATE",MODE_DELETE:"MODE_DELETE"},J={MAIN_PUBLIC:[{label:"Login",to:"/users/login"},{label:"Register",to:"/users/register"}],MAIN_PRIVATE:[{label:"Home",to:"/"},{label:"Manage Lists",to:"/lists"},{label:"Logout",to:"/users/logout"}]},Q=(n(102),function(e){return r.a.createElement("div",{className:"list-thumb"},r.a.createElement("h2",null,e.list.name),r.a.createElement(p.b,{className:"btn btn-info",to:"/list/view/"+e.list._id},"View Details"),r.a.createElement("button",{onClick:function(t){return e.editHandler(t,e.list)}},"[Edit]"))}),z=function(e){var t=e.data,n=Object.keys(t).map(function(n){return r.a.createElement(Q,{key:n,list:t[n],editHandler:e.editHandler,deleteHandler:e.deleteHandler})});return r.a.createElement("div",null,n)},$=function(e){return r.a.createElement("form",null,r.a.createElement("div",null,e.error),r.a.createElement(v,{name:"name",placeholder:"Name",value:e.name,onChange:e.onChange}),r.a.createElement("br",null),r.a.createElement(D,{value:"Submit",onClick:e.onSubmit}))},X=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={error:""},n.onSubmitHandler=n.onSubmitHandler.bind(Object(O.a)(Object(O.a)(n))),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"onSubmitHandler",value:function(e){e.preventDefault(),this.isValidForm()&&this.props.createList(this.props.list)}},{key:"isValidForm",value:function(){var e=!0,t="";return""===this.props.list.name&&(t="All input fields are required!",e=!1),t&&this.setState({error:t}),e}},{key:"render",value:function(){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-md-3"},r.a.createElement("h1",null,"Create List"),r.a.createElement($,{name:this.props.list.name,onChange:this.props.onChange,onSubmit:this.onSubmitHandler,error:this.state.error})))}}]),t}(a.Component),Z=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={error:""},n.onSubmitHandler=n.onSubmitHandler.bind(Object(O.a)(Object(O.a)(n))),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"onSubmitHandler",value:function(e,t,n){e.preventDefault(),this.isValidForm()&&(console.log(n),this.props.editList(t,n))}},{key:"isValidForm",value:function(){var e=!0,t="";return""===this.props.list.name&&(t="All input fields are required!",e=!1),t&&this.setState({error:t}),e}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-md-3"},r.a.createElement("h1",null,"Edit List"),r.a.createElement($,{name:this.props.list.name,onChange:this.props.onChange,onSubmit:function(t){return e.onSubmitHandler(t,e.props.id,e.props.list)},error:this.state.error})))}}]),t}(a.Component),ee=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={mode:K.MODE_READ,list:{name:""},error:""},n.onShowCreateHandler=n.onShowCreateHandler.bind(Object(O.a)(Object(O.a)(n))),n.onChangeInputHandler=n.onChangeInputHandler.bind(Object(O.a)(Object(O.a)(n))),n.onShowUpdateHandler=n.onShowUpdateHandler.bind(Object(O.a)(Object(O.a)(n))),n.onDeleteHandler=n.onDeleteHandler.bind(Object(O.a)(Object(O.a)(n))),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.remote!==k.FETCH_LISTS_SUCCESS&&this.props.fetchAll()}},{key:"componentWillReceiveProps",value:function(e){e.error?U.a.error(e.error):(e.remote===k.LIST_CREATED&&(U.a.success("New list added successfully!"),this.setState({mode:K.MODE_READ})),e.remote===k.LIST_UPDATED&&(U.a.success("The list was successfully updated!"),this.setState({mode:K.MODE_READ})),e.remote===k.LIST_DELETED&&(U.a.success("The list was successfully deleted!"),this.setState({mode:K.MODE_READ})))}},{key:"onChangeInputHandler",value:function(e){this.setState({list:Object(g.a)({},e.target.name,e.target.value)})}},{key:"onShowCreateHandler",value:function(e){this.setState({mode:K.MODE_CREATE})}},{key:"onShowUpdateHandler",value:function(e,t){this.setState({mode:K.MODE_UPDATE,list:{name:t.name},id:t._id})}},{key:"onDeleteHandler",value:function(e,t){this.setState({mode:K.MODE_DELETE}),this.props.deleteList(t)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h1",null,"Manage Lists"),this.state.mode===K.MODE_READ&&r.a.createElement("div",null,r.a.createElement("button",{onClick:this.onShowCreateHandler},"Add List"),r.a.createElement("hr",null),r.a.createElement(z,{data:this.props.data,editHandler:this.onShowUpdateHandler,deleteHandler:this.onDeleteHandler})),this.state.mode!==K.MODE_READ&&r.a.createElement("button",{onClick:function(){return e.setState({mode:K.MODE_READ})}},"Back to All Lists"),this.state.mode===K.MODE_CREATE&&r.a.createElement(X,{createList:this.props.createList,list:this.state.list,onChange:this.onChangeInputHandler}),this.state.mode===K.MODE_UPDATE&&r.a.createElement(Z,{editList:this.props.editList,list:this.state.list,id:this.state.id,onChange:this.onChangeInputHandler}))}}]),t}(a.Component);var te=Object(m.b)(function(e){return{data:e.list.data,remote:e.list.remote,error:e.list.error,changes:e.list.changes}},function(e){return{fetchAll:function(){return e(q())},createList:function(t){return e(Y(t))},editList:function(t,n){return e(G(t,n))},deleteList:function(t){return e(W(t))}}})(ee),ne=function(){function e(){Object(c.a)(this,e)}return Object(s.a)(e,null,[{key:"create",value:function(e){return y.post("appdata","todos","kinvey",e)}},{key:"edit",value:function(e,t){return y.update("appdata","todos"+"/".concat(e),"kinvey",t)}},{key:"delete",value:function(e){return y.remove("appdata","todos"+"/".concat(e),"kinvey")}},{key:"getAll",value:function(){return y.get("appdata","todos","kinvey")}},{key:"getDaily",value:function(e){var t='?query={"deadline":{"$lte":"'.concat(e,'"}}');return y.get("appdata","todos"+t,"kinvey")}},{key:"getAllByList",value:function(e){var t='?query={"list_id":"'.concat(e,'"}');return y.get("appdata","todos"+t,"kinvey")}},{key:"getCompleted",value:function(e){var t='?query={"complete_date":"'.concat(e,'"}');return y.get("appdata","todos"+t,"kinvey")}},{key:"getById",value:function(e){return y.get("appdata","todos"+"/".concat(e),"kinvey")}}]),e}();function ae(e){return{type:k.TODOS_FETCHED,data:e}}function re(e){return{type:k.REMOTE_ERROR,message:e}}function oe(e){return function(t){return ne.create(e).then(function(e){t(function(e){return{type:k.TODO_CREATED,data:e}}(e))}).catch(function(e){var n=y.handleError(e);t(re(n))})}}function le(e,t){return function(n){return ne.edit(e,t).then(function(e){n(function(e){return{type:k.TODO_UPDATED,data:e}}(e))}).catch(function(e){var t=y.handleError(e);n(re(t))})}}function ce(e){return function(t){return ne.delete(e).then(function(){t(function(e){return{type:k.TODO_DELETED,id:e}}(e))}).catch(function(e){var n=y.handleError(e);t(re(n))})}}function se(e){return function(t){return ne.getAllByList(e).then(function(e){t(function(e){return{type:k.TODOS_BY_LIST_FETCHED,data:e}}(e))}).catch(function(e){var n=y.handleError(e);t(re(n))})}}function ie(e){return console.log("Fetching completed todos"),function(t){return ne.getCompleted(e).then(function(e){t(function(e){return{type:k.COMPLETED_TODOS_FETCHED,data:e}}(e))}).catch(function(e){var n=y.handleError(e);t(re(n))})}}function ue(e){return function(t){return ne.getById(e).then(function(e){var n;t((n=e,{type:k.TODO_BY_ID_FETCHED,todo:n}))}).catch(function(e){var n=y.handleError(e);t(re(n))})}}var de=function(){function e(){Object(c.a)(this,e)}return Object(s.a)(e,null,[{key:"changeDeadline",value:function(e,t){if(0===t)return null;var n=new Date(e);return new Date(n.setDate(n.getDate()+t)).toISOString()}},{key:"deadlineIsInPast",value:function(e){var t=new Date;t.setHours(0,0,0,0);var n=new Date(e);return n.setHours(0,0,0,0),n<t}},{key:"getDateNoHoursISO",value:function(e){return e.setHours(2,0,0,0),e.toISOString()}},{key:"deleteFromData",value:function(e,t){e.hasOwnProperty(t)&&(!isNaN(parseInt(t))&&e instanceof Array?e.splice(t,1):delete e[t])}},{key:"storeDataByKey",value:function(e,t){var n={};return e.forEach(function(e){n[e[t]]=e}),n}}]),e}(),me=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={checked:n.props.checked},n.toggleState=n.toggleState.bind(Object(O.a)(Object(O.a)(n))),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"toggleState",value:function(e){var t=!this.state.checked;this.setState({checked:t}),console.log("Status updated"),void 0!==this.props.onClick&&this.props.onClick(this.props.todo)}},{key:"render",value:function(){var e=this.state.checked?"far fa-check-square":"far fa-square";return r.a.createElement("span",{onClick:this.toggleState},r.a.createElement("i",{className:e}))}}]),t}(a.Component),pe=(n(104),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={value:0},n.handleChange=n.handleChange.bind(Object(O.a)(Object(O.a)(n))),n.onAdd=n.onAdd.bind(Object(O.a)(Object(O.a)(n))),n.onSave=n.onSave.bind(Object(O.a)(Object(O.a)(n))),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e){this.setState({value:Number(e.target.value)})}},{key:"onAdd",value:function(e){var t=this.state.value+Number(e);this.setState({value:t})}},{key:"onSave",value:function(){this.props.onSave(this.props.todo._id,this.state.value),this.setState({value:0})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"progress"},r.a.createElement("span",null,this.props.todo.progress," / ",this.props.todo.target," ",this.props.todo.type),r.a.createElement("button",{onClick:function(){return e.onAdd(-1)},className:"input-control"},"-"),r.a.createElement("input",{type:"text",name:"progress",value:this.state.value,onChange:this.handleChange}),r.a.createElement("button",{onClick:function(){return e.onAdd(1)},className:"input-control"},"+"),r.a.createElement("button",{className:"submit",onClick:this.onSave},"Add"))}}]),t}(a.Component)),he=(n(46),function(e){var t="hidden-row-"+e.todo._id,n=r.a.createElement(p.b,{to:"/todo/edit/"+e.todo._id,className:"btn btn-secondary"},"Edit"),a=null!==e.todo.complete_date;return r.a.createElement("tr",null,r.a.createElement("td",{className:"align-middle d-none d-lg-table-cell"},r.a.createElement(me,{checked:a,todo:e.todo,onClick:e.onUpdateStatus}),r.a.createElement("span",{className:"margin-left-10"},e.todo.name)),r.a.createElement("td",{className:"align-middle d-none d-lg-table-cell"},r.a.createElement(pe,{todo:e.todo,onSave:e.onUpdateProgress})),r.a.createElement("td",{className:"align-middle d-none d-lg-table-cell"},r.a.createElement("button",{className:"btn btn-success"},"Timer"),n),r.a.createElement("td",{colSpan:"3",className:"align-middle d-lg-none d-md-table-cell"},r.a.createElement("table",{className:"mobile-inside"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"align-middle first"},r.a.createElement(me,{checked:a,todo:e.todo,onClick:e.onUpdateStatus}),r.a.createElement("span",{className:"margin-left-10"},e.todo.name)),r.a.createElement("td",{className:"align-middle"},r.a.createElement("button",{className:"btn-collapse align-middle","data-toggle":"collapse","data-target":"."+t},"V"))),r.a.createElement("tr",{className:t+" collapse"},r.a.createElement("td",{colSpan:"2",className:"align-middle"},r.a.createElement(pe,{todo:e.todo,onSave:e.onUpdateProgress}))),r.a.createElement("tr",{className:t+" collapse"},r.a.createElement("td",{colSpan:"2",className:"align-middle"},n,r.a.createElement("button",{className:"btn btn-success"},"Timer")))))))}),Ee=function(e){var t=e.data,n=Object.keys(t).map(function(n){return r.a.createElement(he,{key:n,todo:t[n],onUpdateStatus:e.onUpdateStatus,onUpdateProgress:e.onUpdateProgress,onEditClick:e.onEditClick})});return r.a.createElement("div",null,r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-hover"},r.a.createElement("tbody",null,n))))},fe=function(e){var t="hidden-row-"+e.todo._id,n=null!==e.todo.complete_date,a="".concat(e.todo.progress," / ").concat(e.todo.target," ").concat(e.todo.type);return r.a.createElement("tr",null,r.a.createElement("td",{className:"align-middle d-none d-lg-table-cell"},r.a.createElement(me,{checked:n,todo:e.todo,onClick:e.onUpdateStatus}),r.a.createElement("span",{className:"margin-left-10"},e.todo.name)),r.a.createElement("td",{className:"align-middle d-none d-lg-table-cell"},r.a.createElement("span",null,a)),r.a.createElement("td",{colSpan:"3",className:"align-middle d-lg-none d-md-table-cell"},r.a.createElement("table",{className:"mobile-inside"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"align-middle first"},r.a.createElement(me,{checked:n,todo:e.todo,onClick:e.onUpdateStatus}),r.a.createElement("span",{className:"margin-left-10"},e.todo.name)),r.a.createElement("td",{className:"align-middle"},r.a.createElement("button",{className:"btn-collapse align-middle","data-toggle":"collapse","data-target":"."+t},"V"))),r.a.createElement("tr",{className:t+" collapse"},r.a.createElement("td",{colSpan:"2",className:"align-middle"},r.a.createElement("span",null,a)))))))},be=function(e){var t=e.data,n=Object.keys(t).map(function(n){return r.a.createElement(fe,{key:n,todo:t[n],onUpdateStatus:e.onUpdateStatus})});return r.a.createElement("div",null,r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-hover"},r.a.createElement("tbody",null,n))))},ge=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={showCompleted:!1},n.onUpdateStatus=n.onUpdateStatus.bind(Object(O.a)(Object(O.a)(n))),n.onUpdateProgress=n.onUpdateProgress.bind(Object(O.a)(Object(O.a)(n))),n.onShowCompleted=n.onShowCompleted.bind(Object(O.a)(Object(O.a)(n))),n.onHideCompleted=n.onHideCompleted.bind(Object(O.a)(Object(O.a)(n))),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.remote,k.TODOS_FETCHED,this.loadDailyTodos()}},{key:"componentWillReceiveProps",value:function(e){if(e.error)U.a.error(e.error);else{if(e.remote===k.TODOS_FETCHED)for(var t in e.data){var n=e.data[t];de.deadlineIsInPast(n.deadline)&&(n.deadline=de.getDateNoHoursISO(new Date),n.noncompleted_count++,this.props.editTodo(t,n))}e.remote===k.TODO_UPDATED&&this.loadDailyTodos()}}},{key:"loadDailyTodos",value:function(){var e=de.getDateNoHoursISO(new Date);this.props.fetchDaily(e),this.props.fetchCompleted(e)}},{key:"onUpdateStatus",value:function(e){e.complete_date?(e.deadline=de.getDateNoHoursISO(new Date),e.completed_count--,e.complete_date=null):(console.log("Want to set it to complete"),e.deadline=de.changeDeadline(e.deadline,e.Repeat),e.completed_count++,e.complete_date=de.getDateNoHoursISO(new Date)),this.props.editTodo(e._id,e)}},{key:"onUpdateProgress",value:function(e,t){var n=this.props.data[e];n.progress+=t,n.progress<0&&(n.progress=0),this.props.editTodo(e,n)}},{key:"onShowCompleted",value:function(){this.setState({showCompleted:!0}),console.log("Need to render completed")}},{key:"onHideCompleted",value:function(){this.setState({showCompleted:!1}),console.log("Need to hide completed")}},{key:"render",value:function(){var e=this.state.showCompleted?"Hide completed":"Show completed",t=this.state.showCompleted?this.onHideCompleted:this.onShowCompleted;return r.a.createElement("div",null,r.a.createElement("h1",null,"Daily Todos"),r.a.createElement(p.b,{to:"/todo/add",className:"btn btn-dark"},"Add Todo"),r.a.createElement("hr",null),r.a.createElement(Ee,{data:this.props.data,onEditClick:this.onShowUpdateHandler,onUpdate:this.onUpdateHandler,onDeleteClick:this.onDeleteHandler,onUpdateStatus:this.onUpdateStatus,onUpdateProgress:this.onUpdateProgress}),r.a.createElement("hr",null),r.a.createElement("button",{onClick:t,className:"btn btn-info"},e),this.state.showCompleted&&this.props.completed&&r.a.createElement(be,{data:this.props.completed,onEditClick:this.onShowUpdateHandler,onUpdate:this.onUpdateHandler,onDeleteClick:this.onDeleteHandler,onUpdateStatus:this.onUpdateStatus,onUpdateProgress:this.onUpdateProgress}))}}]),t}(a.Component);var Oe=Object(m.b)(function(e){return{data:e.todo.data,completed:e.todo.completed,remote:e.todo.remote,error:e.todo.error,changes:e.todo.changes}},function(e){return{fetchDaily:function(t){return e(function(e){return console.log("Fetching daily todos"),function(t){return ne.getDaily(e).then(function(e){t(ae(e))}).catch(function(e){var n=y.handleError(e);t(re(n))})}}(t))},fetchCompleted:function(t){return e(ie(t))},editTodo:function(t,n){return e(le(t,n))},deleteTodo:function(t){return e(ce(t))}}})(ge),ve=function(e){var t=r.a.createElement("option",{value:""},"No values");return e.options&&(t=e.options.map(function(e,t){return r.a.createElement("option",{key:t,value:e},e)})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:e.name},e.placeholder),r.a.createElement("select",{className:"form-control",name:e.name,value:e.value,onChange:e.onChange},t))},De=n(85),Se=(n(149),n(13)),Ce=n.n(Se),Te=function(e){return r.a.createElement("form",null,r.a.createElement("div",null,e.error),r.a.createElement(v,{name:"name",placeholder:"Name",value:e.todo.name,onChange:e.onChange}),r.a.createElement(ve,{name:"type",placeholder:"Type",value:e.todo.type,options:["minutes","times","amount"],onChange:e.onChange}),r.a.createElement(v,{type:"number",name:"target",placeholder:"Target",value:e.todo.target,onChange:e.onChange}),r.a.createElement("br",null),e.allProps&&r.a.createElement("div",null,r.a.createElement(v,{type:"number",name:"Repeat",placeholder:"Repeat",value:e.todo.Repeat,onChange:e.onChange}),r.a.createElement("br",null),"Start Date:",r.a.createElement(De.a,{selected:Ce()(e.todo.deadline),onChange:function(t){return e.onChange({target:{name:"deadline",value:t.toISOString()}})}})),r.a.createElement(D,{value:e.submitValue,onClick:e.onSubmit}))},ye=function(){function e(){Object(c.a)(this,e)}return Object(s.a)(e,null,[{key:"handleInputChange",value:function(e,t){var n=e.target,a=n.name,r=n.value;""===r||isNaN(r)||(r=Number(r));var o=this.state[t];o[a]=r,this.setState({stateField:o})}}]),e}(),_e=function(){function e(){Object(c.a)(this,e)}return Object(s.a)(e,null,[{key:"getDefaultState",value:function(){return{selectedTodo:null,todo:{name:"",type:"Single",list_id:null,target:1,progress:0,done:!1,Repeat:0,completed_count:0,noncompleted_count:0,deadline:de.getDateNoHoursISO(new Date)},error:"",mode:K.MODE_READ}}},{key:"isValidForm",value:function(){var e=this.state.todo.name,t=this.state.todo.type,n=!0,a="";return""!==e&&""!==t||(a="All input fields are required!",n=!1),a&&this.setState({error:a}),n}}]),e}(),ke=function(e){function t(e){var n;Object(c.a)(this,t);var a=(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).props.match.params.listId?n.props.match.params.listId:null;return n.state={todo:{name:"",type:"minutes",list_id:a,target:30,progress:0,done:!1,Repeat:0,completed_count:0,noncompleted_count:0,deadline:de.getDateNoHoursISO(new Date),complete_date:null},error:""},n.handleInputChange=n.handleInputChange.bind(Object(O.a)(Object(O.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(O.a)(Object(O.a)(n))),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.error?U.a.error(e.error):e.remote===k.TODO_CREATED&&(this.props.match.params.listId?this.props.history.push("/list/view/"+this.props.match.params.listId):this.props.history.push("/"))}},{key:"handleInputChange",value:function(e){ye.handleInputChange.bind(this)(e,"todo")}},{key:"handleSubmit",value:function(e){e.preventDefault(),_e.isValidForm.bind(this)()&&this.props.createTodo(this.state.todo)}},{key:"render",value:function(){return console.log(this.state.todo),r.a.createElement("div",null,r.a.createElement("h1",null,"Create Todo"),r.a.createElement(Te,{todo:this.state.todo,onChange:this.handleInputChange,submitValue:"Add",onSubmit:this.handleSubmit,error:this.state.error}))}}]),t}(r.a.Component);var je=Object(m.b)(function(e){return{remote:e.todo.remote,error:e.todo.error}},function(e){return{createTodo:function(t){return e(oe(t))}}})(ke),Ie=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={todo:null,error:""},n.handleInputChange=n.handleInputChange.bind(Object(O.a)(Object(O.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(O.a)(Object(O.a)(n))),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id,t=this.props.data[e];t?this.setState({todo:t}):this.props.getById(e)}},{key:"componentWillReceiveProps",value:function(e){if(e.error&&(U.a.error(e.error),this.props.history.push("/")),e.remote===k.TODO_BY_ID_FETCHED&&this.setState({todo:e.todo}),e.remote===k.TODO_UPDATED){var t=e.todo.list_id;t?this.props.history.push("/list/view/"+t):this.props.history.push("/")}}},{key:"handleInputChange",value:function(e){ye.handleInputChange.bind(this)(e,"todo"),console.log(e.target)}},{key:"handleSubmit",value:function(e){e.preventDefault(),_e.isValidForm.bind(this)()&&this.props.editTodo(this.state.todo._id,this.state.todo)}},{key:"render",value:function(){return r.a.createElement("div",null,!this.state.todo&&r.a.createElement("div",null,"Loading..."),this.state.todo&&r.a.createElement("div",null,r.a.createElement("h1",null,"Create Todo"),r.a.createElement(Te,{allProps:!0,todo:this.state.todo,onChange:this.handleInputChange,submitValue:"Edit",onSubmit:this.handleSubmit,error:this.state.error})))}}]),t}(r.a.Component);var He=Object(m.b)(function(e){return{todo:e.todo.selected,data:e.todo.data,remote:e.todo.remote,error:e.todo.error}},function(e){return{editTodo:function(t,n){return e(le(t,n))},getById:function(t){return e(ue(t))}}})(Ie),Ne=function(e){var t=e.todo,n="hidden-row-"+e.todo._id,a=r.a.createElement(p.b,{to:"/todo/edit/"+e.todo._id,className:"btn btn-secondary"},"Edit"),o="Repeat every: "+t.Repeat+" days -- Target ("+t.type+"): "+t.target;return r.a.createElement("tr",null,r.a.createElement("td",{className:"align-middle d-none d-lg-table-cell"},r.a.createElement("span",{className:"margin-left-10"},e.todo.name)),r.a.createElement("td",{className:"align-middle d-none d-lg-table-cell"},r.a.createElement("span",null,o)),r.a.createElement("td",{className:"align-middle d-none d-lg-table-cell"},a,r.a.createElement("button",{className:"btn btn-secondary",onClick:function(t){return e.onDeleteClick(t,e.todo._id)}},"[Delete]")),r.a.createElement("td",{colSpan:"3",className:"align-middle d-lg-none d-md-table-cell"},r.a.createElement("table",{className:"mobile-inside"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"align-middle first"},r.a.createElement("span",{className:"margin-left-10"},e.todo.name)),r.a.createElement("td",{className:"align-middle"},r.a.createElement("button",{className:"btn-collapse align-middle","data-toggle":"collapse","data-target":"."+n},"V"))),r.a.createElement("tr",{className:n+" collapse"},r.a.createElement("td",{colSpan:"2",className:"align-middle"},r.a.createElement("span",null,o))),r.a.createElement("tr",{className:n+" collapse"},r.a.createElement("td",{colSpan:"2",className:"align-middle"},a,r.a.createElement("button",{className:"btn btn-secondary",onClick:function(t){return e.onDeleteClick(t,e.todo._id)}},"[Delete]")))))))},Ue=function(e){var t=e.data,n=Object.keys(t).map(function(n){return r.a.createElement(Ne,{key:n,todo:t[n],onUpdateStatus:e.onUpdateStatus,onUpdateProgress:e.onUpdateProgress,onEditClick:e.onEditClick,onDeleteClick:e.onDeleteClick})});return r.a.createElement("div",null,r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-hover"},r.a.createElement("tbody",null,n))))},we=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={listId:null},n.onDeleteHandler=n.onDeleteHandler.bind(Object(O.a)(Object(O.a)(n))),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.remote,k.TODOS_FETCHED;var e=this.props.match.params.id;this.props.fetchOne(e),this.props.fetchTodosByList(e)}},{key:"componentWillReceiveProps",value:function(e){if(e.error)U.a.error(e.error);else if(e.listRemote===k.LIST_BY_ID_FETCHED&&e.remote===k.TODOS_BY_LIST_FETCHED){var t=e.list._id;this.setState({listId:t})}}},{key:"onDeleteHandler",value:function(e,t){this.props.deleteTodo(t)}},{key:"render",value:function(){var e=void 0!==this.props.list?this.props.list:null;return console.log(e),r.a.createElement("div",null,this.state.listId&&r.a.createElement("div",null,r.a.createElement("h1",null,e.name),r.a.createElement(p.b,{to:"/todo/add/"+this.state.listId,className:"btn btn-dark"},"Add Todo"),r.a.createElement("hr",null),r.a.createElement(Ue,{data:this.props.data,onUpdate:this.onUpdateHandler,onDeleteClick:this.onDeleteHandler})))}}]),t}(a.Component);var Le=Object(m.b)(function(e){return{data:e.todo.dataByList,remote:e.todo.remote,error:e.todo.error,listRemote:e.list.remote,list:e.list.selected}},function(e){return{fetchTodosByList:function(t){return e(se(t))},fetchOne:function(t){return e(x(t))},deleteTodo:function(t){return e(ce(t))}}})(we),Ae=function(e){return r.a.createElement(p.f,null,r.a.createElement(f,{path:"/",exact:!0,component:Oe}),r.a.createElement(p.e,{path:"/about",component:b}),r.a.createElement(p.e,{path:"/users/login",component:L}),r.a.createElement(p.e,{path:"/users/register",component:B}),r.a.createElement(f,{path:"/users/logout",component:R}),r.a.createElement(f,{path:"/lists",component:te}),r.a.createElement(f,{path:"/list/view/:id",component:Le}),r.a.createElement(f,{path:"/todo/add/:listId?",component:je}),r.a.createElement(f,{path:"/todo/edit/:id",component:He}))},Re=function(e){return r.a.createElement("li",{className:"nav-item"},r.a.createElement(p.c,{exact:!0,className:"nav-link",activeClassName:"active",to:e.to},e.label))},Pe=function(e){var t=e.menuItems.map(function(e,t){return r.a.createElement(Re,{key:t,label:e.label,to:e.to})});return r.a.createElement("ul",{className:"navbar-nav"},t)},Fe=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.loggedIn?J.MAIN_PRIVATE:J.MAIN_PUBLIC;return r.a.createElement("nav",{className:"navbar navbar-expand-sm bg-dark navbar-dark"},r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#collapsibleNavbar"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"collapsibleNavbar"},r.a.createElement(Pe,{menuItems:e})))}}]),t}(a.Component),Be=function(e){return r.a.createElement("header",null,r.a.createElement(Fe,{loggedIn:e.loggedIn}))},Me=function(){return r.a.createElement("footer",null,r.a.createElement("p",null,"Copyright 2018 - Organizer App by Willbe.S"))},Ve=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.isAuthenticated()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Be,{loggedIn:this.props.loggedIn}),r.a.createElement("div",{className:"container margin-top-30"},r.a.createElement(Ae,null)),r.a.createElement(Me,null))}}]),t}(a.Component);var Ye=Object(p.g)(Object(m.b)(function(e){return{loggedIn:e.auth.loggedIn}},function(e){return{isAuthenticated:function(){return e({type:k.AUTH_REQUEST})}}})(Ve));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ge={auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k.AUTH_REQUEST:return Object.assign({},e,{loggedIn:E.isUserAuthenticated(),error:!1});case k.LOGGIN_SUCCESS:return Object.assign({},e,{loggedIn:!0,error:!1});case k.LOGOUT_SUCCESS:return Object.assign({},e,{loggedIn:!1,error:!1});case k.AUTH_ERROR:return Object.assign({},e,{loggedIn:!1,error:t.message});default:return e}},list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:{},remote:null,error:null,changes:0},t=arguments.length>1?arguments[1]:void 0,n=null;switch(e.changes++,t.type){case k.LOGOUT_SUCCESS:return{data:{},remote:null,error:null,changes:0};case k.LIST_CREATED:return(n=Object.assign({},e,{remote:k.LIST_CREATED,error:null})).data[t.data._id]=t.data,n;case k.LIST_UPDATED:return(n=Object.assign({},e,{remote:k.LIST_UPDATED,error:null})).data[t.data._id]=t.data,n;case k.LIST_DELETED:return n=Object.assign({},e,{remote:k.LIST_DELETED,error:null}),de.deleteFromData(n.data,t.id),n;case k.FETCH_LISTS_SUCCESS:return Object.assign({},e,{data:de.storeDataByKey(t.data,"_id"),remote:k.FETCH_LISTS_SUCCESS,error:null});case k.LIST_BY_ID_FETCHED:return Object.assign({},e,{selected:t.list,remote:k.LIST_BY_ID_FETCHED,error:null});case k.REMOTE_ERROR:return Object.assign({},e,{error:t.message});default:return e}},todo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:{},selected:null,dataByList:null,remote:null,error:null,changes:0},t=arguments.length>1?arguments[1]:void 0,n=null;switch(e.changes++,t.type){case k.LOGOUT_SUCCESS:return{data:{},remote:null,error:null,changes:0};case k.TODO_CREATED:return(n=Object.assign({},e,{remote:k.TODO_CREATED,error:null})).data[t.data._id]=t.data,n;case k.TODO_UPDATED:return(n=Object.assign({},e,{selected:t.data,remote:k.TODO_UPDATED,error:null})).data[t.data._id]=t.data,n;case k.TODO_DELETED:return n=Object.assign({},e,{remote:k.TODO_DELETED,error:null}),de.deleteFromData(n.data,t.id),n;case k.TODOS_FETCHED:return Object.assign({},e,{data:de.storeDataByKey(t.data,"_id"),remote:k.TODOS_FETCHED,error:null});case k.COMPLETED_TODOS_FETCHED:return Object.assign({},e,{completed:de.storeDataByKey(t.data,"_id"),remote:k.COMPLETED_TODOS_FETCHED,error:null});case k.TODOS_BY_LIST_FETCHED:return Object.assign({},e,{dataByList:de.storeDataByKey(t.data,"_id"),remote:k.TODOS_BY_LIST_FETCHED,error:null});case k.TODO_BY_ID_FETCHED:return Object.assign({},e,{selected:t.todo,remote:k.TODO_BY_ID_FETCHED,error:null});case k.REMOTE_ERROR:return Object.assign({},e,{error:t.message});default:return e}}},We=n(32),qe=n(84),xe=n.n(qe),Ke=Object(We.d)(Object(We.c)(Ge),Object(We.a)(xe.a));Ke.subscribe(function(){return console.log(Ke.getState())}),l.a.render(r.a.createElement(m.a,{store:Ke},r.a.createElement(p.a,null,r.a.createElement(Ye,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},46:function(e,t,n){},87:function(e,t,n){e.exports=n(151)},92:function(e,t,n){},95:function(e,t,n){}},[[87,2,1]]]);
//# sourceMappingURL=main.e157cca2.chunk.js.map