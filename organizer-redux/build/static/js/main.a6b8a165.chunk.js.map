{"version":3,"sources":["components/users/Auth.js","components/common/routes/PrivateRoute.js","components/AboutPage.js","components/common/forms/Input.js","components/common/forms/Submit.js","components/users/LoginForm.js","api/remoteKinvey.js","services/UserService.js","constants/actionTypes.js","actions/authActions.js","components/users/LoginPage.js","components/users/LogoutPage.js","components/users/RegisterForm.js","components/users/RegisterPage.js","services/ListService.js","actions/listActions.js","constants/app.js","components/lists/ListThumb.js","components/lists/ShowAllLists.js","components/lists/ListForm.js","components/lists/CreateListPage.js","components/lists/EditListPage.js","components/lists/ManageListsPage.js","services/TodoService.js","actions/todoActions.js","components/common/AppHelper.js","components/todos/StatusBox.js","components/todos/Progress.js","components/common/Timer.js","components/todos/ProgressTimer.js","components/todos/DailyTodo.js","components/todos/DailyTodosList.js","components/todos/CompletedTodo.js","components/todos/CompletedTodosList.js","components/todos/DailyTodosPage.js","components/common/forms/Select.js","components/todos/TodoForm.js","components/common/forms/FormHelper.js","components/todos/TodoHelper.js","components/todos/CreateTodoPage.js","components/todos/EditTodoPage.js","components/todos/StatsTodo.js","components/todos/StatsTodosList.js","components/lists/ViewListDetailsPage.js","components/common/routes/Routes.js","components/common/navbar/MenuItem.js","components/common/navbar/Menu.js","components/common/navbar/Navbar.js","components/common/Header.jsx","components/common/Footer.jsx","App.js","serviceWorker.js","reducers/reducers.js","reducers/authReducer.js","reducers/listReducer.js","reducers/todoReducer.js","index.js"],"names":["Auth","window","localStorage","removeItem","token","setItem","getItem","PrivateRoute","_ref","Component","component","rest","Object","objectWithoutProperties","react_default","a","createElement","react_router_dom_es","assign","render","props","isUserAuthenticated","to","pathname","state","from","location","AboutPage","className","Input","type","htmlFor","name","placeholder","value","onChange","Submit","onClick","LoginForm","error","forms_Input","username","password","forms_Submit","onSubmit","remoteKinvey","BASE_URL","APP_KEY","APP_SECRET","makeRequest","method","module","endpoint","auth","url","headers","Authorization","concat","btoa","getToken","makeAuth","Content-Type","get","$","ajax","post","data","obj","JSON","stringify","update","remove","handleError","reason","responseJSON","description","UserService","actionTypes","LOGGIN_SUCCESS","LOGOUT_SUCCESS","AUTH_ERROR","AUTH_REQUEST","LIST_CREATED","LIST_UPDATED","LIST_DELETED","FETCH_LISTS_SUCCESS","FIND_ONE_BY_ID","LIST_BY_ID_FETCHED","TODO_CREATED","TODO_UPDATED","TODO_DELETED","TODOS_FETCHED","TODOS_BY_LIST_FETCHED","COMPLETED_TODOS_FETCHED","TODO_BY_ID_FETCHED","REMOTE_ERROR","loginSuccess","authError","msg","message","logout","dispatch","then","deauthenticateUser","catch","err","LoginPage","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onInputChangeHandler","bind","assertThisInitialized","onSubmitHandler","e","setState","defineProperty","target","preventDefault","isValidForm","login","toLowerCase","newProps","toastr","loggedIn","success","history","push","formIsValid","console","log","users_LoginForm","connect","authenticateUser","_kmd","authtoken","LogoutPage","RegisterForm","confirmPassword","RegisterPage","repeat","register","users_RegisterForm","ListService","id","remoteError","createList","create","createSuccess","editList","edit","editSuccess","deleteList","delete","deleteSuccess","fetchAll","getAll","fetchSuccess","fetchOne","getById","list","crud","MODE_CREATE","MODE_READ","MODE_UPDATE","MODE_DELETE","NavLinks","MAIN_PUBLIC","label","MAIN_PRIVATE","ListThumb","_id","event","editHandler","ShowAllLists","listItems","keys","map","key","components_lists_ListThumb","deleteHandler","ListForm","CreateListPage","lists_ListForm","EditListPage","_this2","ManageListsPage","mode","onShowCreateHandler","onChangeInputHandler","onShowUpdateHandler","onDeleteHandler","remote","lists_ShowAllLists","lists_CreateListPage","lists_EditListPage","changes","TodoService","date","query","listId","createTodo","editTodo","deleteTodo","fetchAllByList","getAllByList","fetchedNyListSuccess","fetchCompleted","getCompleted","completedFetched","todo","AppHelper","oldDeadline","d","Date","setDate","getDate","toISOString","today","setHours","hasOwnProperty","isNaN","parseInt","Array","splice","store","forEach","element","StatusBox","checked","toggleState","undefined","squareClass","Progress","handleChange","onAdd","onSave","Number","num","newValue","progress","Timer","start","stop","onStart","onReset","onPause","showTime","React","ProgressTimer","finish","onShowFinish","onSaveProgress","onCancel","minutes","getMinutes","seconds","onUpdateProgress","hours","Math","floor","padLeft","substring","length","targetSeconds","components_common_Timer","TodoDaily","hiddenRowId","editBtn","todos_StatusBox","done","onUpdateStatus","components_todos_Progress","todos_ProgressTimer","onTimerStart","onTimerPause","onTimerReset","colSpan","data-toggle","data-target","DailyTodosList","rows","DailyTodo","onEditClick","completed","complete_date","CompletedTodosList","CompletedTodo","DailyTodosPage","showCompleted","timer","autoStop","audio","Audio","repeatSound","isPlaying","onShowCompleted","onHideCompleted","tick","loadDailyTodos","dateIsInPast","deadline","getDateNoHoursISO","noncompleted_count","total","fetchDaily","completed_count","changeDeadline","Repeat","newProgress","play","clearInterval","setInterval","pause","completedBtnLabel","completedHandler","todos_DailyTodosList","onUpdate","onUpdateHandler","onDeleteClick","todos_CompletedTodosList","getDaily","Select","options","op","index","disabled","TodoForm","forms_Select","allProps","list_id","lists","react_datepicker_es","selected","moment","submitValue","FormHelper","stateField","field","TodoHelper","selectedTodo","CreateTodoPage","match","params","handleInputChange","handleSubmit","todos_TodoForm","EditTodoPage","listsLoaded","StatsTodo","stats","StatsTodosList","todos_StatsTodo","ViewListDetailsPage","fetchTodosByList","listRemote","todos_StatsTodosList","dataByList","Routes","routes_PrivateRoute","path","exact","MenuItem","activeClassName","Menu","menuItems","item","navbar_MenuItem","Navbar","navbar_Menu","Header","navbar_Navbar","Footer","App","isAuthenticated","fetchAllLists","common_Header","routes_Routes","common_Footer","withRouter","remoteList","errorList","Boolean","hostname","reducers","arguments","action","newState","deleteFromData","storeDataByKey","createStore","combineReducers","applyMiddleware","thunk","subscribe","getState","ReactDOM","es","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a6b8a165.chunk.js","sourcesContent":["class Auth {\r\n    static removeUser() {\r\n        window.localStorage.removeItem('user');\r\n    }\r\n\r\n    static authenticateUser(token) {\r\n        window.localStorage.setItem('token', token);\r\n    }\r\n\r\n    static isUserAuthenticated() {\r\n        return window.localStorage.getItem('token') !== null;\r\n    }\r\n\r\n    static deauthenticateUser() {\r\n        window.localStorage.removeItem('token');\r\n    }\r\n\r\n    static getToken() {\r\n        return window.localStorage.getItem('token');\r\n    }\r\n}\r\n\r\nexport default Auth;","import React from 'react';\r\nimport {Route, Redirect} from 'react-router-dom';\r\nimport Auth from '../../users/Auth';\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => (\r\n    <Route {...rest} render={props => (\r\n        Auth.isUserAuthenticated() ? (\r\n            <Component {...props} />\r\n        ) : (\r\n                <Redirect to={{\r\n                    pathname: '/users/login',\r\n                    state: { from: props.location }\r\n                }} />\r\n            )\r\n    )\r\n    } />\r\n)\r\n\r\nexport default PrivateRoute;","import React from 'react';\r\n\r\nconst AboutPage = (props) => (\r\n    <div className='row'>\r\n        <div className='col-md-12'>\r\n            <h1>About Page</h1>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport default AboutPage;","import React from 'react';\r\n\r\nconst Input = (props) => {\r\n    let type = props.type || 'text';\r\n\r\n    return (\r\n        <div className='form-group'>\r\n            <label htmlFor={props.name}>{props.placeholder}</label>\r\n            <input\r\n                type={type}\r\n                className='form-control'\r\n                name={props.name}\r\n                placeholder={props.placeholder}\r\n                value={props.value}\r\n                onChange={props.onChange} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Input;","import React from 'react';\r\n\r\nconst Submit = (props) => {\r\n    return (\r\n        <div>\r\n            <input\r\n                className='btn btn-primary'\r\n                type='submit'\r\n                value={props.value}\r\n                onClick={props.onClick} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Submit;","import React from 'react';\r\nimport Input from '../common/forms/Input';\r\nimport Submit from '../common/forms/Submit';\r\n\r\nconst LoginForm = (props) => (\r\n    <form>\r\n        <div>{props.error}</div>\r\n        <Input\r\n            name='username'\r\n            placeholder='Username'\r\n            value={props.username}\r\n            onChange={props.onChange} />\r\n        <Input\r\n            type='password'\r\n            name='password'\r\n            placeholder='Password'\r\n            value={props.password}\r\n            onChange={props.onChange} />\r\n        <br />\r\n        <Submit\r\n            value='Login'\r\n            onClick={props.onSubmit} />\r\n    </form>\r\n);\r\n\r\nexport default LoginForm;","import $ from 'jquery';\r\nimport Auth from '../components/users/Auth';\r\n\r\nconst remoteKinvey = (() => {\r\n    const BASE_URL = 'https://baas.kinvey.com/';\r\n    const APP_KEY = 'kid_H1L5OCFUW'; // APP KEY HERE\r\n    const APP_SECRET = '338746648e3b4bfa8e83a8ac221a1acc'; // APP SECRET HERE\r\n\r\n    function makeAuth(auth) {\r\n        if (auth === 'basic') {\r\n            return `Basic ${btoa(APP_KEY + \":\" + APP_SECRET)}`;\r\n        } else {\r\n            let token = Auth.getToken();\r\n            return `Kinvey ${token}`\r\n        }\r\n    }\r\n\r\n    // request method (GET, POST, PUT)\r\n    // kinvey module (user/appdata)\r\n    // url endpoint\r\n    // auth\r\n    function makeRequest(method, module, endpoint, auth) {\r\n        return {\r\n            url: BASE_URL + module + '/' + APP_KEY + '/' + endpoint,\r\n            method: method,\r\n            headers: {\r\n                'Authorization': makeAuth(auth),\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n    }\r\n\r\n    function get(module, endpoint, auth) {\r\n        //console.log(makeRequest('GET', module, endpoint, auth));\r\n        return $.ajax(makeRequest('GET', module, endpoint, auth));\r\n    }\r\n\r\n    function post(module, endpoint, auth, data) {\r\n        let obj = makeRequest('POST', module, endpoint, auth);\r\n        if (data) {\r\n            obj.data = JSON.stringify(data);\r\n        }\r\n\r\n        return $.ajax(obj);\r\n    }\r\n\r\n    function update(module, endpoint, auth, data) {\r\n        let obj = makeRequest('PUT', module, endpoint, auth);\r\n        obj.data = JSON.stringify(data);\r\n        return $.ajax(obj);\r\n    }\r\n\r\n    function remove(module, endpoint, auth) {\r\n        return $.ajax(makeRequest('DELETE', module, endpoint, auth));\r\n    }\r\n\r\n    function handleError(reason) {\r\n        return reason.responseJSON.description;\r\n    }\r\n\r\n    return {\r\n        get,\r\n        post,\r\n        update,\r\n        remove,\r\n        handleError\r\n    };\r\n})();\r\n\r\nexport default remoteKinvey;","import remoteKinvey from '../api/remoteKinvey';\r\n\r\nclass UserService {\r\n    static register(username, password) {\r\n        return remoteKinvey.post('user', '', 'basic', { username, password });\r\n    }\r\n\r\n    static login(username, password) {\r\n        return remoteKinvey.post('user', 'login', 'basic', { username, password });\r\n    }\r\n\r\n    static logout() {\r\n        return remoteKinvey.post('user', '_logout', 'kinvey');\r\n    }\r\n}\r\n\r\nexport default UserService;","const actionTypes = {\r\n    //Auth\r\n    LOGGIN_SUCCESS: 'LOGGIN_SUCCESS',\r\n    LOGOUT_SUCCESS: 'LOGOUT_SUCCESS',\r\n    AUTH_ERROR: 'AUTH_ERROR',\r\n    AUTH_REQUEST: 'AUTH_REQUEST',\r\n\r\n    //List\r\n    LIST_CREATED: 'LIST_CREATED',\r\n    LIST_UPDATED: 'LIST_UPDATED',\r\n    LIST_DELETED: 'LIST_DELETED',\r\n    FETCH_LISTS_SUCCESS: 'FETCH_LISTS_SUCCESS',\r\n    FIND_ONE_BY_ID: 'FIND_ONE_BY_ID',\r\n    LIST_BY_ID_FETCHED: 'LIST_BY_ID_FETCHED',\r\n\r\n    //Todo\r\n    TODO_CREATED: 'TODO_CREATED',\r\n    TODO_UPDATED: 'TODO_UPDATED',\r\n    TODO_DELETED: 'TODO_DELETED',\r\n    TODOS_FETCHED: 'TODOS_FETCHED',\r\n    TODOS_BY_LIST_FETCHED: 'TODOS_BY_LIST_FETCHED',\r\n    COMPLETED_TODOS_FETCHED: 'COMPLETED_TODOS_FETCHED',\r\n    TODO_BY_ID_FETCHED: 'TODO_BY_ID_FETCHED',\r\n\r\n    REMOTE_ERROR: 'REMOTE_ERROR',\r\n}\r\n\r\nexport default actionTypes;","import UserService from '../services/UserService';\r\nimport remoteKinvey from '../api/remoteKinvey';\r\nimport Auth from '../components/users/Auth';\r\nimport actionTypes from '../constants/actionTypes';\r\n\r\nfunction loginSuccess() {\r\n    return {\r\n        type: actionTypes.LOGGIN_SUCCESS,\r\n    };\r\n}\r\n\r\nfunction logoutSuccess() {\r\n    return {\r\n        type: actionTypes.LOGOUT_SUCCESS,\r\n    };\r\n}\r\n\r\nfunction authError(msg) {\r\n    return {\r\n        type: actionTypes.AUTH_ERROR,\r\n        message: msg\r\n    }\r\n}\r\n\r\nfunction requestAuthentication() {\r\n    return {\r\n        type: actionTypes.AUTH_REQUEST\r\n    }\r\n}\r\n\r\nfunction login(username, password) {\r\n    return (dispatch) => {\r\n        return UserService.login(username, password)\r\n            .then(data => {\r\n                Auth.authenticateUser(data._kmd.authtoken);\r\n                dispatch(loginSuccess());\r\n            }).catch(err => {\r\n                const msg = remoteKinvey.handleError(err);\r\n                dispatch(authError(msg))\r\n            });\r\n    };\r\n}\r\n\r\nfunction register(username, password) {\r\n    return (dispatch) => {\r\n        return UserService.register(username, password)\r\n            .then(data => {\r\n                Auth.authenticateUser(data._kmd.authtoken);\r\n                dispatch(loginSuccess());\r\n            }).catch(err => {\r\n                const msg = remoteKinvey.handleError(err);\r\n                dispatch(authError(msg))\r\n            });\r\n    };\r\n}\r\n\r\n\r\n\r\nfunction logout() {\r\n    return (dispatch) => {\r\n        return UserService.logout()\r\n            .then(data => {\r\n                Auth.deauthenticateUser();\r\n                dispatch(logoutSuccess());\r\n            }).catch(err => {\r\n                const msg = remoteKinvey.handleError(err);\r\n                dispatch(authError(msg))\r\n            });\r\n    };\r\n}\r\nexport { login, register, logout, requestAuthentication }","import React, {Component} from 'react';\r\nimport LoginForm from './LoginForm';\r\nimport { connect } from 'react-redux';\r\nimport { login } from '../../actions/authActions';\r\nimport toastr from 'toastr';\r\n\r\nclass LoginPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n            error: ''\r\n        }\r\n\r\n        this.onInputChangeHandler = this.onInputChangeHandler.bind(this);\r\n        this.onSubmitHandler = this.onSubmitHandler.bind(this);\r\n    }\r\n\r\n    onInputChangeHandler(e) {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n    }\r\n\r\n    onSubmitHandler(e) {\r\n        e.preventDefault();\r\n\r\n        if(!this.isValidForm()) {\r\n            return;\r\n        }\r\n\r\n        this.props.login(this.state.username.toLowerCase(), this.state.password);\r\n    }\r\n\r\n    componentWillReceiveProps(newProps) {\r\n        if (newProps.error) {\r\n            toastr.error(newProps.error);\r\n        }\r\n\r\n        if (newProps.loggedIn) {\r\n            toastr.success('User login successfull!');\r\n            this.props.history.push('/');\r\n        }\r\n    }\r\n\r\n    isValidForm() {\r\n        const username = this.state.username;\r\n        const password = this.state.password;\r\n\r\n        let formIsValid = true;\r\n        let error = '';\r\n\r\n        if (username === '' || password === '') {\r\n            error = 'All input fields are required!';\r\n            formIsValid = false;\r\n        }\r\n\r\n        if (error) {\r\n            this.setState({ error });\r\n        }\r\n\r\n        return formIsValid;\r\n    }\r\n\r\n    render() {\r\n        console.log('Login Page render');\r\n        return(\r\n            <div  className='row'>\r\n            <div className='col-md-4 offset-md-4'>\r\n            <h1>Login</h1>\r\n                <p>Please enter your username and password.</p>\r\n                <LoginForm\r\n                    username={this.state.username}\r\n                    password={this.state.password}\r\n                    error={this.state.error}\r\n                    onChange={this.onInputChangeHandler}\r\n                    onSubmit={this.onSubmitHandler} />\r\n            </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        loggedIn: state.auth.loggedIn,\r\n        error: state.auth.error\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        login: (username, password) => dispatch(login(username, password))\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginPage);","import {Component} from 'react';\r\nimport { connect } from 'react-redux';\r\nimport toastr from 'toastr';\r\nimport {logout} from '../../actions/authActions';\r\n\r\nclass LogoutPage extends Component {\r\n    componentWillMount() {\r\n        this.props.logout();\r\n    }\r\n\r\n    componentWillReceiveProps(newProps) {\r\n        if (newProps.error) {\r\n            toastr.error(newProps.error);\r\n        }\r\n\r\n        if (!newProps.loggedIn) {\r\n            this.props.history.push('/users/login');\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return null;\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        loggedIn: state.auth.loggedIn,\r\n        error: state.auth.error\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        logout: () => dispatch(logout())\r\n      };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LogoutPage);","import React from 'react';\r\nimport Input from '../common/forms/Input';\r\nimport Submit from '../common/forms/Submit';\r\n\r\nconst RegisterForm = (props) => (\r\n    <form>\r\n        <div>{props.error}</div>\r\n        <Input\r\n            name='username'\r\n            placeholder='Username'\r\n            value={props.username}\r\n            onChange={props.onChange} />\r\n        <Input\r\n            type='password'\r\n            name='password'\r\n            placeholder='Password'\r\n            value={props.password}\r\n            onChange={props.onChange} />\r\n        <Input\r\n            type='password'\r\n            name='repeat'\r\n            placeholder='Confirm  Password'\r\n            value={props.confirmPassword}\r\n            onChange={props.onChange} />\r\n        <br />\r\n        <Submit\r\n            value='Register'\r\n            onClick={props.onSubmit} />\r\n    </form>\r\n);\r\n\r\nexport default RegisterForm;","import React, { Component } from 'react';\r\nimport RegisterForm from './RegisterForm';\r\nimport toastr from 'toastr';\r\nimport {register} from '../../actions/authActions';\r\nimport {connect} from 'react-redux';\r\n\r\nclass RegisterPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n            repeat: '',\r\n            error: ''\r\n        }\r\n\r\n        this.onInputChangeHandler = this.onInputChangeHandler.bind(this);\r\n        this.onSubmitHandler = this.onSubmitHandler.bind(this);\r\n    }\r\n\r\n    onInputChangeHandler(e) {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n    }\r\n\r\n    onSubmitHandler(e) {\r\n        e.preventDefault();\r\n\r\n        if (!this.isValidForm()) {\r\n            return;\r\n        }\r\n\r\n        this.props.register(this.state.username.toLowerCase(), this.state.password);\r\n    }\r\n\r\n    componentWillReceiveProps(newProps) {\r\n        if (newProps.error) {\r\n            toastr.error(newProps.error);\r\n        }\r\n\r\n        if (newProps.loggedIn) {\r\n            toastr.success('User registration successfull!');\r\n            this.props.history.push('/');\r\n        }\r\n    }\r\n\r\n    isValidForm() {\r\n        const username = this.state.username;\r\n        const password = this.state.password;\r\n        const repeat = this.state.repeat;\r\n\r\n        let formIsValid = true;\r\n        let error = '';\r\n\r\n        if (username === '' || password === '') {\r\n            error = 'All input fields are required!';\r\n            formIsValid = false;\r\n        }\r\n\r\n        if (password !== repeat) {\r\n            error = 'Passwords missmatch!';\r\n            formIsValid = false;\r\n        }\r\n\r\n        if (error) {\r\n            this.setState({ error });\r\n        }\r\n\r\n        return formIsValid;\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className='row'>\r\n                <div className='col-md-4 offset-md-4'>\r\n                    <h1>Register</h1>\r\n                    <p>Please fill in this form to create an account.</p>\r\n                    <RegisterForm\r\n                        username={this.state.username}\r\n                        password={this.state.password}\r\n                        repeat={this.state.repeat}\r\n                        error={this.state.error}\r\n                        onChange={this.onInputChangeHandler}\r\n                        onSubmit={this.onSubmitHandler} />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        loggedIn: state.auth.loggedIn,\r\n        error: state.auth.error\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        register: (username, password) => dispatch(register(username, password))\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RegisterPage);","import remoteKinvey from '../api/remoteKinvey';\r\n\r\nconst COLLECTION_NAME = 'lists';\r\n\r\nclass ListService {\r\n    static create(data) {\r\n        return remoteKinvey.post('appdata', COLLECTION_NAME, 'kinvey', data);\r\n    }\r\n\r\n    static edit(id, data) {\r\n        return remoteKinvey.update('appdata', COLLECTION_NAME + `/${id}`, 'kinvey', data);\r\n    }\r\n\r\n    static delete(id) {\r\n        return remoteKinvey.remove('appdata', COLLECTION_NAME + `/${id}`, 'kinvey');\r\n    }\r\n\r\n    static getAll() {\r\n        return remoteKinvey.get('appdata', COLLECTION_NAME, 'kinvey');\r\n    }\r\n\r\n    static getById(id) {\r\n        return remoteKinvey.get('appdata', COLLECTION_NAME + `/${id}`, 'kinvey');\r\n    }\r\n}\r\n\r\nexport default ListService;","import ListService from '../services/ListService';\r\nimport actionTypes from '../constants/actionTypes';\r\nimport remoteKinvey from '../api/remoteKinvey';\r\n\r\nfunction createSuccess(data) {\r\n    return {\r\n        type: actionTypes.LIST_CREATED,\r\n        data\r\n    };\r\n}\r\n\r\nfunction editSuccess(data) {\r\n    return {\r\n        type: actionTypes.LIST_UPDATED,\r\n        data\r\n    }\r\n}\r\n\r\nfunction deleteSuccess(id) {\r\n    return {\r\n        type: actionTypes.LIST_DELETED,\r\n        id\r\n    }\r\n}\r\n\r\nfunction fetchSuccess(data) {\r\n    return {\r\n        type: actionTypes.FETCH_LISTS_SUCCESS,\r\n        data\r\n    }\r\n}\r\n\r\nfunction fetchedOneSuccess(list) {\r\n    return {\r\n        type: actionTypes.LIST_BY_ID_FETCHED,\r\n        list\r\n    }\r\n}\r\n\r\nfunction remoteError(msg) {\r\n    return {\r\n        type: actionTypes.REMOTE_ERROR,\r\n        message: msg\r\n    }\r\n}\r\n\r\nfunction createList(data) {\r\n    return (dispatch) => {\r\n        return ListService.create(data)\r\n            .then(data => {\r\n                dispatch(createSuccess(data));\r\n            }).catch(err => {\r\n                const msg = remoteKinvey.handleError(err);\r\n                dispatch(remoteError(msg))\r\n            });\r\n    };\r\n}\r\n\r\n\r\nfunction editList(id, data) {\r\n    return (dispatch) => {\r\n        return ListService.edit(id, data)\r\n            .then(data => {\r\n                dispatch(editSuccess(data));\r\n            }).catch(err => {\r\n                const msg = remoteKinvey.handleError(err);\r\n                dispatch(remoteError(msg))\r\n            });\r\n    };\r\n}\r\n\r\nfunction deleteList(id) {\r\n    return (dispatch) => {\r\n        return ListService.delete(id)\r\n            .then(() => {\r\n                dispatch(deleteSuccess(id));\r\n            }).catch(err => {\r\n                const msg = remoteKinvey.handleError(err);\r\n                dispatch(remoteError(msg))\r\n            });\r\n    };\r\n}\r\n\r\nfunction fetchAll() {\r\n    //console.log('Fetching lists!!!')\r\n    return (dispatch) => {\r\n        return ListService.getAll()\r\n            .then(data => {\r\n                dispatch(fetchSuccess(data));\r\n            }).catch(err => {\r\n                const msg = remoteKinvey.handleError(err);\r\n                dispatch(remoteError(msg))\r\n            });\r\n    };\r\n}\r\n\r\nfunction fetchOne(id) {\r\n    return (dispatch) => {\r\n        return ListService.getById(id)\r\n            .then(data => {\r\n                dispatch(fetchedOneSuccess(data));\r\n            }).catch(err => {\r\n                const msg = remoteKinvey.handleError(err);\r\n                dispatch(remoteError(msg))\r\n            });\r\n    };\r\n}\r\n\r\nexport { createList, fetchAll, fetchOne, editList, deleteList };","const crud = {\r\n    MODE_CREATE: 'MODE_CREATE',\r\n    MODE_READ: 'MODE_READ',\r\n    MODE_UPDATE: 'MODE_UPDATE',\r\n    MODE_DELETE: 'MODE_DELETE',\r\n}\r\n\r\nconst NavLinks = {\r\n    MAIN_PUBLIC: [\r\n        { label: 'Login', to: '/users/login' },\r\n        { label: 'Register', to: '/users/register' },\r\n    ],\r\n    MAIN_PRIVATE: [\r\n        { label: 'Home', to: '/' },\r\n        { label: 'Manage Lists', to: '/lists' },\r\n        { label: 'Logout', to: '/users/logout' },\r\n    ]\r\n}\r\n\r\nexport { crud, NavLinks };","import React from 'react';\r\nimport './ListThumb.css';\r\n//import { Link } from 'react-router-dom';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst ListThumb = (props) => (\r\n    <div className='list-thumb'>\r\n        <h2>{props.list.name}</h2>\r\n        <Link className='btn btn-info' to={'/list/view/' + props.list._id}>View Details</Link>\r\n        <button onClick={(event) => (props.editHandler(event, props.list))}>[Edit]</button> \r\n        {/* <button onClick={(event) => (props.deleteHandler(event, props.list._id))}>[Delete]</button> */}\r\n    </div>\r\n);\r\n\r\nexport default ListThumb;","import React from 'react';\r\nimport ListThumb from './ListThumb';\r\n\r\nconst ShowAllLists = (props) => {\r\n    const data = props.data;\r\n    let listItems = Object.keys(data).map(key => (\r\n        <ListThumb \r\n            key={key} \r\n            list={data[key]} \r\n            editHandler={props.editHandler}\r\n            deleteHandler={props.deleteHandler} />\r\n    ));\r\n\r\n    //console.log('Render ShowAllLists');\r\n    return (\r\n        <div>\r\n            {listItems}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ShowAllLists;","import React from 'react';\r\nimport Input from '../common/forms/Input';\r\nimport Submit from '../common/forms/Submit';\r\n\r\nconst ListForm = (props) => {\r\n    return (\r\n        <form>\r\n            <div>{props.error}</div>\r\n            <Input\r\n                name='name'\r\n                placeholder='Name'\r\n                value={props.name}\r\n                onChange={props.onChange} />\r\n            <br />\r\n            <Submit\r\n                value='Submit'\r\n                onClick={props.onSubmit} />\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default ListForm;","import React, { Component} from 'react';\r\nimport ListForm from './ListForm';\r\n\r\nclass CreateListPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            error: ''\r\n        }\r\n\r\n        this.onSubmitHandler = this.onSubmitHandler.bind(this);\r\n    }\r\n\r\n    onSubmitHandler(e) {\r\n        e.preventDefault();\r\n\r\n        if(!this.isValidForm()) {\r\n            return;\r\n        }\r\n\r\n        //const data = { name: this.props.name };\r\n        this.props.createList(this.props.list);\r\n    }\r\n\r\n    isValidForm() {\r\n        const name = this.props.list.name;\r\n        let formIsValid = true;\r\n        let error = '';\r\n\r\n        if (name === '') {\r\n            error = 'All input fields are required!';\r\n            formIsValid = false;\r\n        }\r\n\r\n        if (error) {\r\n            this.setState({ error });\r\n        }\r\n\r\n        return formIsValid;\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div  className='row'>\r\n            <div className='col-md-6 offset-md-3'>\r\n            <h1>Create List</h1>\r\n                <ListForm\r\n                    name={this.props.list.name}\r\n                    onChange={this.props.onChange}\r\n                    onSubmit={this.onSubmitHandler}\r\n                    error={this.state.error} />\r\n            </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default CreateListPage","import React, { Component } from 'react';\r\nimport ListForm from './ListForm';\r\n\r\nclass EditListPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        this.state = {\r\n            error: ''\r\n        }\r\n\r\n        this.onSubmitHandler = this.onSubmitHandler.bind(this);\r\n    }\r\n\r\n    onSubmitHandler(e, id, list) {\r\n        e.preventDefault();\r\n\r\n        if(!this.isValidForm()) {\r\n            return;\r\n        }\r\n\r\n        console.log(list);\r\n        this.props.editList(id, list);\r\n    }\r\n\r\n    isValidForm() {\r\n        const name = this.props.list.name;\r\n        let formIsValid = true;\r\n        let error = '';\r\n\r\n        if (name === '') {\r\n            error = 'All input fields are required!';\r\n            formIsValid = false;\r\n        }\r\n\r\n        if (error) {\r\n            this.setState({ error });\r\n        }\r\n\r\n        return formIsValid;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div  className='row'>\r\n            <div className='col-md-6 offset-md-3'>\r\n            <h1>Edit List</h1>\r\n                <ListForm\r\n                    name={this.props.list.name}\r\n                    onChange={this.props.onChange}\r\n                    onSubmit={(e) => (this.onSubmitHandler(e, this.props.id, this.props.list))}\r\n                    error={this.state.error} /> \r\n            </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default EditListPage;","import React, { Component } from 'react';\r\nimport { fetchAll } from '../../actions/listActions';\r\nimport { connect } from 'react-redux';\r\nimport actionTypes from '../../constants/actionTypes';\r\nimport {crud} from '../../constants/app';\r\nimport ShowAllLists from './ShowAllLists';\r\nimport CreateListPage from './CreateListPage';\r\nimport { createList, editList, deleteList } from '../../actions/listActions';\r\nimport toastr from 'toastr';\r\nimport EditListPage from './EditListPage';\r\n\r\nclass ManageListsPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            mode: crud.MODE_READ,\r\n            list: {\r\n                name: ''\r\n            },\r\n            error: ''\r\n        }\r\n\r\n        this.onShowCreateHandler = this.onShowCreateHandler.bind(this);\r\n        this.onChangeInputHandler = this.onChangeInputHandler.bind(this);\r\n        this.onShowUpdateHandler = this.onShowUpdateHandler.bind(this);\r\n        this.onDeleteHandler = this.onDeleteHandler.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.remote === actionTypes.FETCH_LISTS_SUCCESS) {\r\n            return;\r\n        }\r\n\r\n        this.props.fetchAll();\r\n\r\n    }\r\n\r\n    componentWillReceiveProps(newProps) {\r\n        if (newProps.error) {\r\n            toastr.error(newProps.error);\r\n            return;\r\n        }\r\n\r\n        if (newProps.remote === actionTypes.LIST_CREATED) {\r\n            toastr.success('New list added successfully!');\r\n            this.setState({ mode: crud.MODE_READ });\r\n        }\r\n\r\n        if (newProps.remote === actionTypes.LIST_UPDATED) {\r\n            toastr.success('The list was successfully updated!');\r\n            this.setState({ mode: crud.MODE_READ });\r\n        }\r\n\r\n        if (newProps.remote === actionTypes.LIST_DELETED) {\r\n            toastr.success('The list was successfully deleted!');\r\n            this.setState({ mode: crud.MODE_READ });\r\n        }\r\n    }\r\n\r\n    onChangeInputHandler(e) {\r\n        this.setState({ list: { [e.target.name]: e.target.value } });\r\n    }\r\n\r\n    onShowCreateHandler(event) {\r\n        this.setState({ mode: crud.MODE_CREATE });\r\n    }\r\n\r\n    onShowUpdateHandler(e, list) {\r\n        this.setState({ mode: crud.MODE_UPDATE, list: {name: list.name}, id: list._id });\r\n    }\r\n\r\n    onDeleteHandler(e, id) {\r\n        this.setState({ mode: crud.MODE_DELETE });\r\n        this.props.deleteList(id);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h1>Manage Lists</h1>\r\n\r\n                {this.state.mode === crud.MODE_READ &&\r\n                    <div>\r\n                        <button\r\n                            onClick={this.onShowCreateHandler}>\r\n                            Add List\r\n                        </button>\r\n                        <hr />\r\n                        <ShowAllLists \r\n                            data={this.props.data} \r\n                            editHandler={this.onShowUpdateHandler}\r\n                            deleteHandler={this.onDeleteHandler} />\r\n                    </div>\r\n                }\r\n\r\n                {this.state.mode !== crud.MODE_READ &&\r\n                    <button\r\n                        onClick={() => (this.setState({mode: crud.MODE_READ}))}>\r\n                        Back to All Lists\r\n                    </button>\r\n                }\r\n\r\n                {this.state.mode === crud.MODE_CREATE &&\r\n                    <CreateListPage\r\n                        createList={this.props.createList}\r\n                        list={this.state.list}\r\n                        onChange={this.onChangeInputHandler} />\r\n                }\r\n                {this.state.mode === crud.MODE_UPDATE &&\r\n                    <EditListPage\r\n                        editList={this.props.editList}\r\n                        list={this.state.list}\r\n                        id={this.state.id}\r\n                        onChange={this.onChangeInputHandler}\r\n                    />}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        data: state.list.data,\r\n        remote: state.list.remote,\r\n        error: state.list.error,\r\n        changes: state.list.changes\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        fetchAll: () => dispatch(fetchAll()),\r\n        createList: (data) => dispatch(createList(data)),\r\n        editList: (id, data) => dispatch(editList(id, data)),\r\n        deleteList: (id) => dispatch(deleteList(id))\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ManageListsPage);","import remoteKinvey from '../api/remoteKinvey';\r\n\r\nconst COLLECTION_NAME = 'todos';\r\n\r\nclass TodoService {\r\n    static create(data) {\r\n        return remoteKinvey.post('appdata', COLLECTION_NAME, 'kinvey', data);\r\n    }\r\n\r\n    static edit(id, data) {\r\n        return remoteKinvey.update('appdata', COLLECTION_NAME + `/${id}`, 'kinvey', data);\r\n    }\r\n\r\n    static delete(id) {\r\n        return remoteKinvey.remove('appdata', COLLECTION_NAME + `/${id}`, 'kinvey');\r\n    }\r\n\r\n    static getAll() {\r\n        return remoteKinvey.get('appdata', COLLECTION_NAME, 'kinvey');\r\n    }\r\n\r\n    static getDaily(date) {\r\n        ///appdata/your-app-id/your-collection?query={\"your-date-property\":{\"$gt\":\"2010-04-29\"}}\r\n        const query = `?query={\"deadline\":{\"$lte\":\"${date}\"}}`;\r\n        return remoteKinvey.get('appdata', COLLECTION_NAME + query, 'kinvey');\r\n    }\r\n\r\n    static getAllByList(listId) {\r\n        const query = `?query={\"list_id\":\"${listId}\"}`;\r\n        return remoteKinvey.get('appdata', COLLECTION_NAME + query, 'kinvey');\r\n    }\r\n\r\n    static getCompleted(date) {\r\n        const query = `?query={\"complete_date\":\"${date}\"}`;\r\n        return remoteKinvey.get('appdata', COLLECTION_NAME + query, 'kinvey');\r\n    }\r\n\r\n    static getById(id) {\r\n        return remoteKinvey.get('appdata', COLLECTION_NAME + `/${id}`, 'kinvey');\r\n    }\r\n}\r\n\r\nexport default TodoService;","import TodoService from '../services/TodoService';\r\nimport actionTypes from '../constants/actionTypes';\r\nimport remoteKinvey from '../api/remoteKinvey';\r\n\r\nfunction createSuccess(data) {\r\n    return {\r\n        type: actionTypes.TODO_CREATED,\r\n        data\r\n    };\r\n}\r\n\r\nfunction editSuccess(data) {\r\n    return {\r\n        type: actionTypes.TODO_UPDATED,\r\n        data\r\n    }\r\n}\r\n\r\nfunction deleteSuccess(id) {\r\n    return {\r\n        type: actionTypes.TODO_DELETED,\r\n        id\r\n    }\r\n}\r\n\r\nfunction fetchSuccess(data) {\r\n    return {\r\n        type: actionTypes.TODOS_FETCHED,\r\n        data\r\n    }\r\n}\r\n\r\nfunction fetchedNyListSuccess(data) {\r\n    return {\r\n        type: actionTypes.TODOS_BY_LIST_FETCHED,\r\n        data\r\n    }\r\n}\r\n\r\nfunction completedFetched(data) {\r\n    return {\r\n        type: actionTypes.COMPLETED_TODOS_FETCHED,\r\n        data\r\n    }\r\n}\r\n\r\nfunction fetchedOneSuccess(todo) {\r\n    return {\r\n        type: actionTypes.TODO_BY_ID_FETCHED,\r\n        todo\r\n    }\r\n}\r\n\r\nfunction remoteError(msg) {\r\n    return {\r\n        type: actionTypes.REMOTE_ERROR,\r\n        message: msg\r\n    }\r\n}\r\n\r\nfunction createTodo(data) {\r\n    return (dispatch) => {\r\n        return TodoService.create(data)\r\n            .then(data => {\r\n                dispatch(createSuccess(data));\r\n            }).catch(err => {\r\n                const msg = remoteKinvey.handleError(err);\r\n                dispatch(remoteError(msg))\r\n            });\r\n    };\r\n}\r\n\r\n\r\nfunction editTodo(id, data) {\r\n    return (dispatch) => {\r\n        return TodoService.edit(id, data)\r\n            .then(data => {\r\n                dispatch(editSuccess(data));\r\n            }).catch(err => {\r\n                const msg = remoteKinvey.handleError(err);\r\n                dispatch(remoteError(msg))\r\n            });\r\n    };\r\n}\r\n\r\nfunction deleteTodo(id) {\r\n    return (dispatch) => {\r\n        return TodoService.delete(id)\r\n            .then(() => {\r\n                dispatch(deleteSuccess(id));\r\n            }).catch(err => {\r\n                const msg = remoteKinvey.handleError(err);\r\n                dispatch(remoteError(msg))\r\n            });\r\n    };\r\n}\r\n\r\nfunction fetchAll() {\r\n    //console.log('Fetching todos');\r\n    return (dispatch) => {\r\n        return TodoService.getAll()\r\n            .then(data => {\r\n                dispatch(fetchSuccess(data));\r\n            }).catch(err => {\r\n                const msg = remoteKinvey.handleError(err);\r\n                dispatch(remoteError(msg))\r\n            });\r\n    };\r\n}\r\n\r\nfunction fetchAllByList(listId) {\r\n    return (dispatch) => {\r\n        return TodoService.getAllByList(listId)\r\n            .then(data => {\r\n                dispatch(fetchedNyListSuccess(data));\r\n            }).catch(err => {\r\n                const msg = remoteKinvey.handleError(err);\r\n                dispatch(remoteError(msg))\r\n            });\r\n    };\r\n}\r\n\r\nfunction fetchDaily(date) {\r\n    //console.log('Fetching daily todos');\r\n    return (dispatch) => {\r\n        return TodoService.getDaily(date)\r\n            .then(data => {\r\n                dispatch(fetchSuccess(data));\r\n            }).catch(err => {\r\n                const msg = remoteKinvey.handleError(err);\r\n                dispatch(remoteError(msg))\r\n            });\r\n    };\r\n}\r\n\r\nfunction fetchCompleted(date) {\r\n    //console.log('Fetching completed todos');\r\n    return (dispatch) => {\r\n        return TodoService.getCompleted(date)\r\n            .then(data => {\r\n                dispatch(completedFetched(data));\r\n            }).catch(err => {\r\n                const msg = remoteKinvey.handleError(err);\r\n                dispatch(remoteError(msg))\r\n            });\r\n    };\r\n}\r\n\r\nfunction fetchOne(id) {\r\n    return (dispatch) => {\r\n        return TodoService.getById(id)\r\n            .then(data => {\r\n                dispatch(fetchedOneSuccess(data));\r\n            }).catch(err => {\r\n                const msg = remoteKinvey.handleError(err);\r\n                dispatch(remoteError(msg))\r\n            });\r\n    };\r\n}\r\n\r\nexport { fetchAll, fetchDaily, fetchCompleted, fetchAllByList, fetchOne, createTodo, editTodo, deleteTodo };","/////////////////////////////// App Helper Functions /////////////////////////////////////\r\n// Temporary here but when grow too many will separate them by functionality/components //\r\n//////////////////////////////////////////////////////////////////////////////////////////\r\nclass AppHelper {\r\n    //(to go in TodoHelper)\r\n    static changeDeadline(oldDeadline, repeat) {\r\n        if(repeat === 0) {\r\n            return null;\r\n        }\r\n\r\n        let d = new Date(oldDeadline);\r\n        let newDeadline = new Date(d.setDate(d.getDate() + repeat));\r\n\r\n        return newDeadline.toISOString();\r\n    }\r\n\r\n    static dateIsInPast(date) {\r\n        let today = new Date();\r\n        today.setHours(0, 0, 0, 0);\r\n        let d = new Date(date);\r\n        d.setHours(0, 0, 0, 0);\r\n\r\n        return d < today;\r\n    }\r\n\r\n    static getDateNoHoursISO(date) {\r\n        date.setHours(2, 0, 0, 0);\r\n        return date.toISOString();\r\n    }\r\n\r\n\r\n\r\n    // Delete element from object|array regardless (to go in StoreHelper)\r\n    static deleteFromData(data, key) {\r\n        if (!data.hasOwnProperty(key)) {\r\n            return;\r\n        }\r\n\r\n        if (isNaN(parseInt(key)) || !(data instanceof Array)) {\r\n            delete data[key];\r\n        } else {\r\n            data.splice(key, 1);\r\n        }\r\n    }\r\n\r\n    // Store data in associative array by given key (to go in StoreHelper)\r\n    static storeDataByKey(data, key) {\r\n        let store = {};\r\n        data.forEach(element => {\r\n            store[element[key]] = element;\r\n        });\r\n\r\n        return store;\r\n    }\r\n}\r\n\r\nexport default AppHelper;","import React, {Component} from 'react';\r\n\r\nclass StatusBox extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            checked: this.props.checked\r\n        }\r\n\r\n        this.toggleState = this.toggleState.bind(this);\r\n    }\r\n\r\n\r\n    toggleState(e) {\r\n        const checked = !this.state.checked;\r\n        this.setState({checked});\r\n        console.log('Status updated');\r\n\r\n        if(this.props.onClick !== undefined) {\r\n            this.props.onClick(this.props.todo);\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        let squareClass = this.state.checked ? 'far fa-check-square' : 'far fa-square';\r\n\r\n        return(\r\n            <span \r\n                onClick={this.toggleState}>\r\n                <i className={squareClass}></i>\r\n            </span>\r\n        );\r\n    }\r\n}\r\n\r\nexport default StatusBox;","import React, { Component } from 'react';\r\n\r\nimport './Progress.css';\r\n\r\nclass Progress extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            value: 0\r\n        }\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.onAdd = this.onAdd.bind(this);\r\n        this.onSave = this.onSave.bind(this);\r\n    }\r\n\r\n    handleChange(event) {\r\n        this.setState({ value: Number(event.target.value) });\r\n    }\r\n\r\n    onAdd(num) {\r\n        let newValue = this.state.value + Number(num);\r\n        this.setState({ value: newValue });\r\n    }\r\n\r\n    onSave() {\r\n        this.props.onSave(this.props.todo._id, this.state.value);\r\n        this.setState({ value: 0 });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id='progress'>\r\n                <span>{this.props.todo.progress} / {this.props.todo.target} {this.props.todo.type}</span>\r\n                <button onClick={() => this.onAdd(-1)} className='input-control'>-</button>\r\n                <input\r\n                    type='text'\r\n                    name='progress'\r\n                    value={this.state.value}\r\n                    onChange={this.handleChange} />\r\n                <button onClick={() => this.onAdd(1)} className='input-control'>+</button>\r\n                <button className='submit'\r\n                    onClick={this.onSave}>\r\n                    Add\r\n                </button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Progress;","import React from 'react';\r\nimport './Timer.css';\r\n\r\nclass Timer extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            start: false,\r\n            stop: false,\r\n        }\r\n\r\n        this.onStart = this.onStart.bind(this);\r\n        this.onReset = this.onReset.bind(this);\r\n        this.onPause = this.onPause.bind(this);\r\n    }\r\n\r\n    onStart() {\r\n        this.setState({ stop: false });\r\n        this.props.onStart();\r\n    }\r\n\r\n    onReset() {\r\n        this.setState({ stop: true });\r\n        this.props.onReset();\r\n    }\r\n\r\n    onPause() {\r\n        this.setState({ stop: true });\r\n        this.props.onPause();\r\n    }\r\n\r\n    // showTime() {\r\n    //     let hours = Math.floor(this.props.seconds / 3600);\r\n    //     let minutes = Math.floor(this.props.seconds / 60) % 60;\r\n    //     let seconds = this.props.seconds % 60;\r\n    //     return `${padLeft(hours)} : ${padLeft(minutes)} : ${padLeft(seconds)}`;\r\n\r\n    //     function padLeft(num) {\r\n    //         num = '00' + num;\r\n    //         return num.substring(num.length, num.length - 2);\r\n    //     }\r\n    // }\r\n\r\n    render() {\r\n        console.log('Timer rendering');\r\n\r\n        return (\r\n            <div className='timer-counter'>\r\n                <div>\r\n                    {this.props.showTime()}\r\n                </div>\r\n                {this.state.stop &&\r\n                    <button onClick={this.onStart} className='btn btn-info timer-btn'>Start</button>}\r\n                {!this.state.stop &&\r\n                    <button onClick={this.onPause} className='btn btn-info timer-btn'>Pause</button>}\r\n                <button onClick={this.onReset} className='btn btn-info timer-btn'>Reset</button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Timer;","import React from 'react';\r\nimport '../common/Timer.css';\r\n\r\nimport Timer from '../common/Timer';\r\n\r\nclass ProgressTimer extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            start: true,\r\n            finish: false,\r\n        }\r\n\r\n        this.onStart = this.onStart.bind(this);\r\n        this.onShowFinish = this.onShowFinish.bind(this);\r\n        this.onSaveProgress = this.onSaveProgress.bind(this);\r\n        this.onCancel = this.onCancel.bind(this);\r\n        this.showTime = this.showTime.bind(this);\r\n    }\r\n\r\n    onStart() {\r\n        this.setState({ start: false });\r\n        this.props.onStart();\r\n    }\r\n\r\n    onShowFinish() {\r\n        this.props.onPause();\r\n        this.setState({finish:true});\r\n    }\r\n\r\n    onSaveProgress() {\r\n        const minutes = this.getMinutes(this.props.seconds);\r\n        if(minutes > 0) {\r\n            this.props.onUpdateProgress(this.props.todo._id, minutes);\r\n            \r\n        }\r\n        this.onCancel();\r\n    }\r\n\r\n    onCancel() {\r\n        this.props.onReset();\r\n        this.setState({start:true, finish:false});\r\n    }\r\n\r\n    showTime() {\r\n        let hours = Math.floor(this.props.seconds / 3600);\r\n        let minutes = Math.floor(this.props.seconds / 60) % 60;\r\n        let seconds = this.props.seconds % 60;\r\n        return `${padLeft(hours)} : ${padLeft(minutes)} : ${padLeft(seconds)}`;\r\n\r\n        function padLeft(num) {\r\n            num = '00' + num;\r\n            return num.substring(num.length, num.length - 2);\r\n        }\r\n    }\r\n\r\n    getMinutes(seconds) {\r\n        return Math.floor(seconds / 60);\r\n    }\r\n\r\n    render() {\r\n        console.log('ProggressTimer rendering');\r\n        if (this.state.start) {\r\n            return <button onClick={this.onStart} className='btn btn-info timer-btn'>></button>;\r\n        } else {\r\n            return (\r\n                <div id='timer'>\r\n                    <h1>{this.props.todo.name}</h1>\r\n                    <button onClick={this.onShowFinish} className='btn btn-info timer-btn'>Finish</button>\r\n                    {this.state.finish &&\r\n                    <div className='messageBox'>\r\n                        <p>Progress: {this.getMinutes(this.props.seconds)} minutes</p>\r\n                        <p>Press Ok to save your progress. Press 'Cancel' to leave without saving.</p>\r\n                        <button onClick={this.onCancel} className='btn btn-info timer-btn'>Cancel</button>\r\n                        <button onClick={this.onSaveProgress} className='btn btn-info timer-btn'>Ok</button>\r\n                    </div>}\r\n\r\n                    {!this.state.finish &&\r\n                    <div>\r\n                        <p>Timer is set to stop automatically after {this.getMinutes(this.props.targetSeconds)} minutes.</p>\r\n                    <Timer\r\n                        onStart={this.props.onStart}\r\n                        onPause={this.props.onPause}\r\n                        onReset={this.props.onReset}\r\n                        seconds={this.props.seconds}\r\n                        showTime={this.showTime} />}\r\n                    </div>}\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default ProgressTimer;","import React from 'react';\r\nimport StatusBox from './StatusBox';\r\nimport Progress from './Progress';\r\nimport { Link } from 'react-router-dom';\r\nimport ProgressTimer from './ProgressTimer';\r\n\r\nimport './Todo.css';\r\n\r\nconst TodoDaily = (props) => {\r\n    const hiddenRowId = 'hidden-row-' + props.todo._id;\r\n    const editBtn = (\r\n        <Link to={'/todo/edit/' + props.todo._id} className='btn btn-secondary'>Edit</Link>\r\n    );\r\n    //const completed = props.todo.complete_date !== null;\r\n\r\n    return (\r\n        <tr>\r\n            <td className='align-middle d-none d-lg-table-cell'>\r\n                <StatusBox\r\n                    checked={props.todo.done}\r\n                    todo={props.todo}\r\n                    onClick={props.onUpdateStatus} />\r\n                <span className='margin-left-10'>{props.todo.name}</span>\r\n            </td>\r\n            <td className='align-middle d-none d-lg-table-cell'>\r\n                <Progress\r\n                    todo={props.todo}\r\n                    onSave={props.onUpdateProgress} />\r\n            </td>\r\n            <td className='align-middle d-none d-lg-table-cell'>\r\n                {editBtn}\r\n                <ProgressTimer\r\n                    todo={props.todo}\r\n                    onStart={props.onTimerStart}\r\n                    onPause={props.onTimerPause}\r\n                    onReset={props.onTimerReset}\r\n                    onUpdateProgress={props.onUpdateProgress}\r\n                    seconds={props.seconds} \r\n                    targetSeconds={props.targetSeconds} \r\n                    />\r\n            </td>\r\n            <td colSpan='3' className='align-middle d-lg-none d-md-table-cell'>\r\n                    <table className='mobile-inside'>\r\n                        <tbody>\r\n                            <tr>\r\n                                <td className='align-middle first'>\r\n                                    <StatusBox\r\n                                        checked={props.todo.done}\r\n                                        todo={props.todo}\r\n                                        onClick={props.onUpdateStatus} />\r\n                                    <span className='margin-left-10'>{props.todo.name}</span>\r\n                                </td>\r\n                                <td className='align-middle'>\r\n                                    <button className='btn-collapse align-middle' data-toggle=\"collapse\" data-target={'.' + hiddenRowId}>V</button>\r\n                                </td>\r\n                            </tr>\r\n                            <tr className={hiddenRowId + ' collapse'}>\r\n                                <td colSpan='2' className='align-middle'>\r\n                                    <Progress\r\n                                        todo={props.todo}\r\n                                        onSave={props.onUpdateProgress} />\r\n                                </td>\r\n                            </tr>\r\n                            <tr className={hiddenRowId + ' collapse'}>\r\n                                <td colSpan='2' className='align-middle'>\r\n                                    {editBtn}\r\n                                    <ProgressTimer\r\n                                        todo={props.todo}\r\n                                        onStart={props.onTimerStart}\r\n                                        onPause={props.onTimerPause}\r\n                                        onReset={props.onTimerReset}\r\n                                        onUpdateProgress={props.onUpdateProgress}\r\n                                        seconds={props.seconds} \r\n                                        targetSeconds={props.targetSeconds} \r\n                                        />\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </td>\r\n        </tr>\r\n                );\r\n            }\r\n            \r\nexport default TodoDaily;","import React from 'react';\r\nimport DailyTodo from './DailyTodo';\r\n\r\nconst DailyTodosList = (props) => {\r\n    const data = props.data;\r\n    let rows = Object.keys(data).map(key => {\r\n        return <DailyTodo\r\n            key={key}\r\n            todo={data[key]}\r\n            onUpdateStatus={props.onUpdateStatus}\r\n            onUpdateProgress={props.onUpdateProgress}\r\n            onEditClick={props.onEditClick}\r\n            onTimerStart={props.onTimerStart}\r\n            onTimerPause={props.onTimerPause} \r\n            onTimerReset={props.onTimerReset}\r\n            seconds={props.seconds} \r\n            targetSeconds={props.targetSeconds} \r\n            />\r\n    });\r\n\r\n    return (\r\n        <div>\r\n            <div className='table-responsive'>\r\n                <table className=\"table table-hover\">\r\n                    <tbody>\r\n                        {rows}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DailyTodosList;","import React from 'react';\r\nimport StatusBox from './StatusBox';\r\n\r\nimport './Todo.css';\r\n\r\nconst TodoDaily = (props) => {\r\n    const hiddenRowId = 'hidden-row-' + props.todo._id;\r\n    const completed = props.todo.complete_date !== null;\r\n    const progress = `${props.todo.progress} / ${props.todo.target} ${props.todo.type}`;\r\n\r\n    return (\r\n        <tr>\r\n            <td className='align-middle d-none d-lg-table-cell'>\r\n                <StatusBox\r\n                    checked={completed}\r\n                    todo={props.todo}\r\n                    onClick={props.onUpdateStatus} />\r\n                <span className='margin-left-10'>{props.todo.name}</span>\r\n            </td>\r\n            <td className='align-middle d-none d-lg-table-cell'>\r\n                <span>{progress}</span>\r\n            </td>\r\n            <td colSpan='3' className='align-middle d-lg-none d-md-table-cell'>\r\n                <table className='mobile-inside'>\r\n                    <tbody>\r\n                        <tr>\r\n                            <td className='align-middle first'>\r\n                                <StatusBox\r\n                                    checked={completed}\r\n                                    todo={props.todo}\r\n                                    onClick={props.onUpdateStatus} />\r\n                                <span className='margin-left-10'>{props.todo.name}</span>\r\n                            </td>\r\n                            <td className='align-middle'>\r\n                            <button className='btn-collapse align-middle' data-toggle=\"collapse\" data-target={'.' + hiddenRowId}>V</button>\r\n                            </td>\r\n                        </tr>\r\n                        <tr className={hiddenRowId + ' collapse'}>\r\n                            <td colSpan='2' className='align-middle'>\r\n                            <span>{progress}</span>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </td>\r\n        </tr>\r\n    );\r\n}\r\n\r\nexport default TodoDaily;","import React from 'react';\r\nimport CompletedTodo from './CompletedTodo';\r\n\r\nconst CompletedTodosList = (props) => {\r\n    const data = props.data;\r\n    let rows = Object.keys(data).map(key => {\r\n        return <CompletedTodo\r\n            key={key}\r\n            todo={data[key]}\r\n            onUpdateStatus={props.onUpdateStatus} />\r\n    });\r\n\r\n    return (\r\n        <div>\r\n            <div className='table-responsive'>\r\n                <table className=\"table table-hover\">\r\n                    <tbody>\r\n                        {rows}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CompletedTodosList;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { fetchDaily, fetchCompleted, editTodo, deleteTodo } from '../../actions/todoActions';\r\nimport actionTypes from '../../constants/actionTypes';\r\nimport toastr from 'toastr';\r\nimport AppHelper from '../common/AppHelper';\r\nimport { Link } from 'react-router-dom';\r\nimport DailyTodosList from './DailyTodosList';\r\nimport CompletedTodosList from './CompletedTodosList';\r\n\r\nclass DailyTodosPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            showCompleted: false,\r\n            timer: null,\r\n            seconds: 0,\r\n            targetSeconds: 1800,\r\n            autoStop: true,\r\n        }\r\n\r\n        this.url = 'https://pagafun.com/apps/sounds/lotr.mp3';\r\n        this.audio = new Audio(this.url);\r\n        this.repeatSound = 20;\r\n        this.isPlaying = false;\r\n\r\n        this.onUpdateStatus = this.onUpdateStatus.bind(this);\r\n        this.onUpdateProgress = this.onUpdateProgress.bind(this);\r\n        this.onShowCompleted = this.onShowCompleted.bind(this);\r\n        this.onHideCompleted = this.onHideCompleted.bind(this);\r\n        this.tick = this.tick.bind(this);\r\n        this.onTimerStart = this.onTimerStart.bind(this);\r\n        this.onTimerReset = this.onTimerReset.bind(this);\r\n        this.onTimerPause = this.onTimerPause.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        //May need this if decide to have separate action types for all fetches, right now it's useless\r\n        if (this.props.remote === actionTypes.TODOS_FETCHED) {\r\n            //return;\r\n        }\r\n        //console.log('Fetching');\r\n\r\n        this.loadDailyTodos();\r\n    }\r\n\r\n    componentWillReceiveProps(newProps) {\r\n        if (newProps.error) {\r\n            toastr.error(newProps.error);\r\n            return;\r\n        }\r\n\r\n        if (newProps.remote === actionTypes.TODOS_FETCHED) {\r\n\r\n            //TODO - move this later in start of day set up\r\n            //Do deadline check\r\n            for (const key in newProps.data) {\r\n                const todo = newProps.data[key];\r\n                if (AppHelper.dateIsInPast(todo.deadline)) {\r\n                    todo.deadline = AppHelper.getDateNoHoursISO(new Date());\r\n                    todo.noncompleted_count++;\r\n                    todo.total += todo.progress;\r\n                    todo.progress = 0;\r\n                    this.props.editTodo(key, todo);\r\n                }\r\n\r\n                if(AppHelper.dateIsInPast(todo.complete_date) && todo.done) {\r\n                    todo.done = false;\r\n                    todo.complete_date = null;\r\n                    todo.progress = 0;\r\n                    this.props.editTodo(todo._id, todo);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (newProps.remote === actionTypes.TODO_UPDATED) {\r\n            this.loadDailyTodos();\r\n        }\r\n    }\r\n\r\n    loadDailyTodos() {\r\n        const date = AppHelper.getDateNoHoursISO(new Date());\r\n        this.props.fetchDaily(date);\r\n        this.props.fetchCompleted(date);\r\n    }\r\n\r\n    onUpdateStatus(todo) {\r\n        if (todo.done) {\r\n            // change it to false (uncomplete)\r\n            todo.deadline = AppHelper.getDateNoHoursISO(new Date());\r\n            todo.completed_count--;\r\n            todo.total -= todo.progress;\r\n            todo.complete_date = null;\r\n        } else {\r\n            //change it to true (complete)\r\n            todo.deadline = AppHelper.changeDeadline(todo.deadline, todo.Repeat);\r\n            todo.completed_count++;\r\n            todo.total += todo.progress;\r\n            todo.complete_date = AppHelper.getDateNoHoursISO(new Date());\r\n        }\r\n\r\n        todo.done = !todo.done;\r\n        this.props.editTodo(todo._id, todo);\r\n    }\r\n\r\n    onUpdateProgress(id, newProgress) {\r\n        //console.log('Will update progress for id: ' + id);\r\n        //console.log('New progress: ' + newProgress)\r\n        let todo = this.props.data[id];\r\n        todo.progress += newProgress;\r\n\r\n        if (todo.progress < 0) todo.progress = 0;\r\n        this.props.editTodo(id, todo);\r\n    }\r\n\r\n    onShowCompleted() {\r\n        this.setState({ showCompleted: true });\r\n        console.log('Need to render completed');\r\n    }\r\n\r\n    onHideCompleted() {\r\n        this.setState({ showCompleted: false });\r\n        console.log('Need to hide completed');\r\n    }\r\n\r\n    tick() {\r\n        this.setState((state) => ({\r\n            seconds: state.seconds + 1\r\n          }));\r\n\r\n        if(this.state.autoStop && this.state.seconds === this.state.targetSeconds) {\r\n            this.audio.play();\r\n            this.isPlaying = true;\r\n        }\r\n\r\n        if(this.state.autoStop && this.state.seconds === this.state.targetSeconds + this.repeatSound) {\r\n            this.onTimerPause();\r\n        }\r\n\r\n    }\r\n\r\n    onTimerStart() {\r\n        clearInterval(this.state.timer);\r\n        const timer = setInterval(this.tick, 1000);\r\n        this.setState({timer});\r\n    }\r\n\r\n    onTimerPause() {\r\n        if (this.isPlaying) {\r\n            this.audio.pause();\r\n            this.isPlaying = false;    \r\n        }\r\n\r\n        clearInterval(this.state.timer);\r\n        this.setState({ timer: null });\r\n    }\r\n\r\n    onTimerReset() {\r\n        clearInterval(this.state.timer);\r\n        this.setState({ timer: null, seconds: 0 });\r\n    }\r\n    \r\n    render() {\r\n        //console.log('Daily Todos Page rendering');\r\n        const completedBtnLabel = this.state.showCompleted ? 'Hide completed' : 'Show completed';\r\n        const completedHandler = this.state.showCompleted ? this.onHideCompleted : this.onShowCompleted;\r\n\r\n        return (\r\n            <div>\r\n                <h1>Daily Todos</h1>\r\n                <Link to='/todo/add' className='btn btn-dark'>Add Todo</Link>\r\n                <hr />\r\n                <DailyTodosList\r\n                    data={this.props.data}\r\n                    onEditClick={this.onShowUpdateHandler}\r\n                    onUpdate={this.onUpdateHandler}\r\n                    onDeleteClick={this.onDeleteHandler}\r\n                    onUpdateStatus={this.onUpdateStatus}\r\n                    onUpdateProgress={this.onUpdateProgress}\r\n                    onTimerStart={this.onTimerStart}\r\n                    onTimerPause={this.onTimerPause} \r\n                    onTimerReset={this.onTimerReset} \r\n                    seconds={this.state.seconds}\r\n                    targetSeconds={this.state.targetSeconds} />\r\n                <hr />\r\n                <button onClick={completedHandler} className='btn btn-info'>{completedBtnLabel}</button>\r\n                {this.state.showCompleted && this.props.completed &&\r\n                    <CompletedTodosList\r\n                        data={this.props.completed}\r\n                        onEditClick={this.onShowUpdateHandler}\r\n                        onUpdate={this.onUpdateHandler}\r\n                        onDeleteClick={this.onDeleteHandler}\r\n                        onUpdateStatus={this.onUpdateStatus}\r\n                        onUpdateProgress={this.onUpdateProgress} />\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        data: state.todo.data,\r\n        completed: state.todo.completed,\r\n        remote: state.todo.remote,\r\n        error: state.todo.error,\r\n        changes: state.todo.changes\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        fetchDaily: (date) => dispatch(fetchDaily(date)),\r\n        fetchCompleted: (date) => dispatch(fetchCompleted(date)),\r\n        editTodo: (id, data) => dispatch(editTodo(id, data)),\r\n        deleteTodo: (id) => dispatch(deleteTodo(id))\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DailyTodosPage);","import React from 'react';\r\n\r\nconst Select = (props) => {\r\n    let options = null;\r\n    if (props.options) {\r\n        options = props.options.map((op, index) => {\r\n            return <option key={index} value={op[0]}>{op[1]}</option>\r\n        });\r\n    }\r\n    \r\n    return (\r\n        <div className='form-group'>\r\n            <label htmlFor={props.name}>{props.placeholder}</label>\r\n            <select\r\n                className='form-control'\r\n                name={props.name}\r\n                value={props.value}\r\n                onChange={props.onChange}>\r\n                    <option value=\"\" disabled>Select your option</option>\r\n                    {options}\r\n                </select>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Select;","import React from 'react';\r\nimport Input from '../common/forms/Input';\r\nimport Submit from '../common/forms/Submit';\r\nimport Select from '../common/forms/Select';\r\nimport DatePicker from 'react-datepicker';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\nimport moment from 'moment';\r\n\r\nconst TodoForm = (props) => (\r\n    <form>\r\n        <div>{props.error}</div>\r\n        <Input\r\n            name='name'\r\n            placeholder='Name'\r\n            value={props.todo.name}\r\n            onChange={props.onChange} />\r\n        <Select\r\n            name='type'\r\n            placeholder='Type'\r\n            value={props.todo.type}\r\n            options={([\r\n                ['minutes', 'minutes'],\r\n                ['times', 'times'],\r\n                ['ml', 'ml'],\r\n                ['single', 'single']\r\n            ])}\r\n            onChange={props.onChange} />\r\n        <Input\r\n            type='number'\r\n            name='target'\r\n            placeholder='Target'\r\n            value={props.todo.target}\r\n            onChange={props.onChange} />\r\n        <br />\r\n        {props.allProps &&\r\n            <div>\r\n                <Input\r\n                    type='number'\r\n                    name='Repeat'\r\n                    placeholder='Repeat'\r\n                    value={props.todo.Repeat}\r\n                    onChange={props.onChange} />\r\n                <br />\r\n                <Select\r\n                    name='list_id'\r\n                    placeholder='Choose a list'\r\n                    value={props.todo.list_id ? props.todo.list_id : ''}\r\n                    options={props.lists}\r\n                    onChange={props.onChange} />\r\n                <br />\r\n                Deadline:\r\n                <DatePicker\r\n                    selected={moment(props.todo.deadline)}\r\n                    onChange={(date => props.onChange({ target: { name: 'deadline', value: date.toISOString() } }))} />\r\n                <br />\r\n            </div>\r\n\r\n        }\r\n        <Submit\r\n            value={props.submitValue}\r\n            onClick={props.onSubmit} />\r\n    </form>\r\n);\r\n\r\nexport default TodoForm;","class FormHelper {\r\n    static handleInputChange(event, stateField) {\r\n        const target = event.target;\r\n        const field = target.name;\r\n        let value = target.value;\r\n\r\n        if(value !== '' && !isNaN(value)) {\r\n            value = Number(value);\r\n        }\r\n\r\n        const state = this.state[stateField];\r\n        state[field] = value;\r\n        this.setState({ stateField: state });\r\n    }\r\n}\r\n\r\nexport default FormHelper;","import AppHelper from '../common/AppHelper';\r\nimport { crud } from '../../constants/app';\r\n\r\nclass TodoHelper {\r\n    static getDefaultState() {\r\n        return {\r\n            selectedTodo: null,\r\n            todo: {\r\n                name: '',\r\n                type: 'Single',\r\n                list_id: null,\r\n                target: 1,\r\n                progress: 0,\r\n                done: false,\r\n                Repeat: 0,\r\n                completed_count: 0,\r\n                noncompleted_count: 0,\r\n                deadline: AppHelper.getDateNoHoursISO(new Date())\r\n            },\r\n            error: '',\r\n            mode: crud.MODE_READ\r\n        }\r\n    }\r\n\r\n    //Now here can do real validation!!!\r\n    static isValidForm() {\r\n        const name = this.state.todo.name;\r\n        const type = this.state.todo.type;\r\n\r\n        let formIsValid = true;\r\n        let error = '';\r\n\r\n        if (name === '' || type === '') {\r\n            error = 'All input fields are required!';\r\n            formIsValid = false;\r\n        }\r\n\r\n        if (error) {\r\n            this.setState({ error });\r\n        }\r\n\r\n        return formIsValid;\r\n    }\r\n}\r\n\r\nexport default TodoHelper;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport toastr from 'toastr';\r\n\r\nimport { createTodo } from '../../actions/todoActions';\r\nimport actionTypes from '../../constants/actionTypes';\r\n\r\nimport TodoForm from './TodoForm';\r\nimport AppHelper from '../common/AppHelper';\r\nimport FormHelper from '../common/forms/FormHelper';\r\nimport TodoHelper from './TodoHelper';\r\n\r\nclass CreateTodoPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        const listId = this.props.match.params.listId ? this.props.match.params.listId : null;\r\n\r\n        this.state ={\r\n            todo: {\r\n                name: '',\r\n                type: 'single',\r\n                list_id: listId,\r\n                target: 0,\r\n                progress: 0,\r\n                total: 0,\r\n                done: false,\r\n                Repeat: 0,\r\n                completed_count: 0,\r\n                noncompleted_count: 0,\r\n                deadline: AppHelper.getDateNoHoursISO(new Date()),\r\n                complete_date: null\r\n            },\r\n            error: '',\r\n        }\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    componentWillReceiveProps(newProps) {\r\n        //TODO - check best practice - is showing remote errors good?\r\n        if (newProps.error) {\r\n            toastr.error(newProps.error);\r\n            return;\r\n        }\r\n\r\n        if (newProps.remote === actionTypes.TODO_CREATED) {\r\n            if(this.props.match.params.listId) {\r\n                this.props.history.push('/list/view/' + this.props.match.params.listId);\r\n            } else {\r\n                this.props.history.push('/');\r\n            }\r\n            \r\n        }\r\n    }\r\n\r\n    handleInputChange(event) {\r\n        FormHelper.handleInputChange.bind(this)(event, 'todo');\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n        if(!TodoHelper.isValidForm.bind(this)()) {\r\n            return;\r\n        }\r\n\r\n        this.props.createTodo(this.state.todo);\r\n    }\r\n\r\n    render() {\r\n        console.log(this.state.todo);\r\n        return(\r\n            <div>\r\n                <h1>Create Todo</h1>\r\n                <TodoForm\r\n                    todo={this.state.todo}\r\n                    onChange={this.handleInputChange}\r\n                    submitValue='Add'\r\n                    onSubmit={this.handleSubmit}\r\n                    error={this.state.error} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        remote: state.todo.remote,\r\n        error: state.todo.error,\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        createTodo: (data) => dispatch(createTodo(data)),\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateTodoPage);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport toastr from 'toastr';\r\n\r\nimport { fetchOne, editTodo } from '../../actions/todoActions';\r\nimport actionTypes from '../../constants/actionTypes';\r\n\r\nimport TodoForm from './TodoForm';\r\n//import AppHelper from '../common/AppHelper';\r\nimport FormHelper from '../common/forms/FormHelper';\r\nimport TodoHelper from './TodoHelper';\r\n\r\n//// IMPORTANT //////////////////////\r\n//// After successful edit need to redirect to the place it came from?? or not??\r\n///// Need to decide ///////////////////////////////\r\nclass EditTodoPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            todo: null,\r\n            error: '',\r\n        }\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        const id = this.props.match.params.id\r\n\r\n        const todo = this.props.data[id];\r\n\r\n        if(todo) {\r\n            this.setState({todo});\r\n        } else {\r\n            this.props.getById(id);\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(newProps) {\r\n        //TODO - check best practice - is showing remote errors good?\r\n        if (newProps.error) {\r\n            toastr.error(newProps.error);\r\n            this.props.history.push('/');\r\n        }\r\n\r\n        if (newProps.remote === actionTypes.TODO_BY_ID_FETCHED) {\r\n            this.setState({ todo: newProps.todo });\r\n        }\r\n\r\n        if (newProps.remote === actionTypes.TODO_UPDATED) {\r\n            const listId = newProps.todo.list_id;\r\n            if (listId) {\r\n                this.props.history.push('/list/view/' + listId);\r\n            } else {\r\n                this.props.history.push('/');\r\n            }\r\n            \r\n        }\r\n    }\r\n\r\n    handleInputChange(event) {\r\n        FormHelper.handleInputChange.bind(this)(event, 'todo');\r\n        console.log(event.target);\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n        if (!TodoHelper.isValidForm.bind(this)()) {\r\n            return;\r\n        }\r\n\r\n        this.props.editTodo(this.state.todo._id, this.state.todo);\r\n    }\r\n\r\n    render() {\r\n        const listsLoaded = this.props.lists !== undefined;\r\n        let lists = [];\r\n        if(lists) {\r\n            for (let key in this.props.lists) {\r\n                const list = this.props.lists[key];\r\n                lists.push([key, list.name]);\r\n            }\r\n        }\r\n\r\n        console.log(lists);\r\n        return (\r\n            <div>\r\n                {!this.state.todo && !listsLoaded && <div>Loading...</div>}\r\n                {this.state.todo && listsLoaded &&\r\n                    <div>\r\n                        <h1>Create Todo</h1>\r\n                        <TodoForm\r\n                            allProps={true}\r\n                            todo={this.state.todo}\r\n                            lists={lists}\r\n                            onChange={this.handleInputChange}\r\n                            submitValue='Edit'\r\n                            onSubmit={this.handleSubmit}\r\n                            error={this.state.error} />\r\n                    </div>\r\n                }\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        todo: state.todo.selected,\r\n        data: state.todo.data,\r\n        lists: state.list.data,\r\n        remote: state.todo.remote,\r\n        error: state.todo.error,\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        editTodo: (id, data) => dispatch(editTodo(id, data)),\r\n        getById: (id) => dispatch(fetchOne(id)),\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(EditTodoPage);","import React from 'react';\r\n\r\nimport { Link } from 'react-router-dom';\r\nimport './Todo.css';\r\n\r\nconst StatsTodo = (props) => {\r\n    const todo = props.todo;\r\n    const hiddenRowId = 'hidden-row-' + props.todo._id;\r\n    const editBtn = (\r\n        <Link to={'/todo/edit/' + props.todo._id} className='btn btn-secondary'>Edit</Link>\r\n    );\r\n    const stats = 'Repeat every: ' + todo.Repeat + ' days -- Target (' + todo.type + '): ' + todo.target; \r\n\r\n    return (\r\n        <tr>\r\n            <td className='align-middle d-none d-lg-table-cell'>\r\n                <span className='margin-left-10'>{props.todo.name}</span>\r\n            </td>\r\n            <td className='align-middle d-none d-lg-table-cell'>\r\n                <span>{stats}</span>\r\n            </td>\r\n            <td className='align-middle d-none d-lg-table-cell'>\r\n                {editBtn}\r\n                {<button className='btn btn-secondary' onClick={(e) => (props.onDeleteClick(e, props.todo._id))}>[Delete]</button>}\r\n            </td>\r\n            <td colSpan='3' className='align-middle d-lg-none d-md-table-cell'>\r\n                <table className='mobile-inside'>\r\n                    <tbody>\r\n                        <tr>\r\n                            <td className='align-middle first'>\r\n                                <span className='margin-left-10'>{props.todo.name}</span>\r\n                            </td>\r\n                            <td className='align-middle'>\r\n                                <button className='btn-collapse align-middle' data-toggle=\"collapse\" data-target={'.' + hiddenRowId}>V</button>\r\n                            </td>\r\n                        </tr>\r\n                        <tr className={hiddenRowId + ' collapse'}>\r\n                            <td colSpan='2' className='align-middle'>\r\n                                <span>{stats}</span>\r\n                            </td>\r\n                        </tr>\r\n                        <tr className={hiddenRowId + ' collapse'}>\r\n                            <td colSpan='2' className='align-middle'>\r\n                                {editBtn}\r\n                                {<button className='btn btn-secondary' onClick={(e) => (props.onDeleteClick(e, props.todo._id))}>[Delete]</button>}\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </td>\r\n        </tr>\r\n    );\r\n}\r\n\r\nexport default StatsTodo;","import React from 'react';\r\nimport StatsTodo from './StatsTodo';\r\n\r\nconst StatsTodosList = (props) => {\r\n    const data = props.data;\r\n    let rows = Object.keys(data).map(key => {\r\n        return <StatsTodo\r\n            key={key}\r\n            todo={data[key]}\r\n            onUpdateStatus={props.onUpdateStatus}\r\n            onUpdateProgress={props.onUpdateProgress}\r\n            onEditClick={props.onEditClick}\r\n            onDeleteClick={props.onDeleteClick} />\r\n    });\r\n\r\n    return (\r\n        <div>\r\n            <div className='table-responsive'>\r\n                <table className=\"table table-hover\">\r\n                    <tbody>\r\n                        {rows}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StatsTodosList;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport toastr from 'toastr';\r\nimport {Link} from 'react-router-dom';\r\n\r\nimport { fetchAllByList, deleteTodo } from '../../actions/todoActions';\r\nimport { fetchOne } from '../../actions/listActions';\r\nimport actionTypes from '../../constants/actionTypes';\r\nimport StatsTodosList from '../todos/StatsTodosList';\r\n\r\nclass ViewListDetailsPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            listId: null\r\n        }\r\n\r\n        this.onDeleteHandler = this.onDeleteHandler.bind(this);\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        if (this.props.remote === actionTypes.TODOS_FETCHED) {\r\n            //return;\r\n        }\r\n\r\n        const listId = this.props.match.params.id;\r\n        this.props.fetchOne(listId);\r\n        this.props.fetchTodosByList(listId); // replace with fetch by listId \r\n    }\r\n\r\n    componentWillReceiveProps(newProps) {\r\n        if (newProps.error) {\r\n            toastr.error(newProps.error);\r\n            //TODO redirect\r\n            return;\r\n        }\r\n\r\n        if(newProps.listRemote === actionTypes.LIST_BY_ID_FETCHED &&\r\n            newProps.remote === actionTypes.TODOS_BY_LIST_FETCHED) {\r\n            const listId = newProps.list._id;\r\n            this.setState({listId});\r\n        }\r\n\r\n        //TODO - preloader\r\n    }\r\n\r\n    onDeleteHandler(event, id) {\r\n        this.props.deleteTodo(id);\r\n    }\r\n\r\n    render() {\r\n        const list = this.props.list !== undefined ? this.props.list : null;\r\n        console.log(list);\r\n        return (\r\n            <div>\r\n            {this.state.listId && \r\n                <div>\r\n                <h1>{list.name}</h1>\r\n                <Link to={'/todo/add/' + this.state.listId} className='btn btn-dark'>Add Todo</Link>\r\n                        <hr />\r\n                        <StatsTodosList \r\n                            data={this.props.data}\r\n                            onUpdate={this.onUpdateHandler}\r\n                            onDeleteClick={this.onDeleteHandler} />\r\n            </div>\r\n            }\r\n            </div>\r\n            \r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        data: state.todo.dataByList,\r\n        remote: state.todo.remote,\r\n        error: state.todo.error,\r\n        listRemote: state.list.remote,\r\n        list: state.list.selected,\r\n        //changes: state.todo.changes\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        fetchTodosByList: (id) => dispatch(fetchAllByList(id)),\r\n        fetchOne: (id) => dispatch(fetchOne(id)),\r\n        deleteTodo: (id) => dispatch(deleteTodo(id))\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ViewListDetailsPage);","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport PrivateRoute from './PrivateRoute';\r\n\r\nimport AboutPage from '../../AboutPage';\r\nimport LoginPage from '../../users/LoginPage';\r\nimport LogoutPage from '../../users/LogoutPage';\r\nimport RegisterPage from '../../users/RegisterPage';\r\nimport ManageListsPage from '../../lists/ManageListsPage';\r\nimport DailyTodosPage from '../../todos/DailyTodosPage';\r\nimport CreateTodoPage from '../../todos/CreateTodoPage';\r\nimport EditTodoPage from '../../todos/EditTodoPage';\r\nimport ViewListDetailsPage from '../../lists/ViewListDetailsPage';\r\n\r\nconst Routes = (props) => (\r\n    <Switch>\r\n        <PrivateRoute path='/' exact component={DailyTodosPage} />\r\n        <Route path='/about' component={AboutPage} />\r\n        <Route path='/users/login' component={LoginPage} />\r\n        <Route path='/users/register' component={RegisterPage} />\r\n        <PrivateRoute path='/users/logout' component={LogoutPage} />\r\n        <PrivateRoute path='/lists' component={ManageListsPage} />\r\n        <PrivateRoute path='/list/view/:id' component={ViewListDetailsPage} />\r\n        <PrivateRoute path='/todo/add/:listId?' component={CreateTodoPage} />\r\n        <PrivateRoute path='/todo/edit/:id' component={EditTodoPage} />\r\n    </Switch>\r\n);\r\n\r\nexport default Routes;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst MenuItem = (props) => (\r\n    <li className=\"nav-item\">\r\n        <NavLink exact className='nav-link' activeClassName='active' to={props.to}>{props.label}</NavLink>\r\n    </li>\r\n);\r\n\r\nexport default MenuItem;","import React from 'react';\r\nimport MenuItem from './MenuItem';\r\n\r\nconst Menu = (props) => {\r\n    let menuItems = props.menuItems.map((item, index) => {\r\n        return <MenuItem key={index} label={item.label} to={item.to} />\r\n    });\r\n\r\n    return <ul className=\"navbar-nav\">\r\n        {menuItems}\r\n    </ul>\r\n}\r\n\r\nexport default Menu;","import React, { Component } from 'react';\r\nimport Menu from './Menu';\r\nimport { NavLinks } from '../../../constants/app';\r\n\r\nclass Navbar extends Component {\r\n    render() {\r\n        let menuItems = this.props.loggedIn ? NavLinks.MAIN_PRIVATE : NavLinks.MAIN_PUBLIC;\r\n\r\n        return (\r\n            <nav className=\"navbar navbar-expand-sm bg-dark navbar-dark\">\r\n                <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapsibleNavbar\">\r\n                    <span className=\"navbar-toggler-icon\"></span>\r\n                </button>\r\n                <div className=\"collapse navbar-collapse\" id=\"collapsibleNavbar\">\r\n                    <Menu menuItems={menuItems} />\r\n                </div>\r\n            </nav>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport Navbar from './navbar/Navbar';\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header>\r\n            <Navbar loggedIn={props.loggedIn} />\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer>\r\n            <p>Copyright 2018 - Organizer App by Willbe.S</p>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport Routes from './components/common/routes/Routes';\r\nimport Header from './components/common/Header';\r\nimport Footer from './components/common/Footer';\r\nimport { requestAuthentication } from './actions/authActions';\r\nimport { fetchAll } from './actions/listActions';\r\n\r\n\r\nclass App extends Component {\r\n  componentDidMount() {\r\n    this.props.isAuthenticated();\r\n    this.props.fetchAllLists();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Header\r\n          loggedIn={this.props.loggedIn} />\r\n        <div className=\"container margin-top-30\">\r\n          <Routes />\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    loggedIn: state.auth.loggedIn,\r\n    remoteList: state.list.remote, //will use those when making preloader\r\n    errorList: state.list.error,\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    isAuthenticated: () => dispatch(requestAuthentication()),\r\n    fetchAllLists: () => dispatch(fetchAll()),\r\n  };\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(App));\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n\r\n              // Execute callback\r\n              if (config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import { authReducer } from './authReducer';\r\nimport { listReducer } from './listReducer';\r\nimport { todoReducer } from './todoReducer';\r\n\r\nexport default {\r\n    auth: authReducer,\r\n    list: listReducer,\r\n    todo: todoReducer\r\n};","import actionTypes from '../constants/actionTypes';\r\nimport Auth from '../components/users/Auth';\r\n\r\nexport function authReducer(state = {}, action) {\r\n    switch (action.type) {\r\n        case actionTypes.AUTH_REQUEST:\r\n            return Object.assign({}, state, { loggedIn: Auth.isUserAuthenticated(), error: false });\r\n        case actionTypes.LOGGIN_SUCCESS:\r\n            return Object.assign({}, state, { loggedIn: true, error: false });\r\n        case actionTypes.LOGOUT_SUCCESS:\r\n            return Object.assign({}, state, { loggedIn: false, error: false });\r\n        case actionTypes.AUTH_ERROR:\r\n            return Object.assign({}, state, { loggedIn: false, error: action.message });\r\n        default:\r\n            return state;\r\n    }\r\n}","import actionTypes from '../constants/actionTypes';\r\nimport AppHelper from '../components/common/AppHelper';\r\n\r\nexport function listReducer(state = { data: {}, remote: null, error: null, changes: 0 }, action) {\r\n    let newState = null;\r\n    state.changes++;\r\n    switch (action.type) {\r\n        case actionTypes.LOGOUT_SUCCESS:\r\n            return { data: {}, remote: null, error: null, changes: 0 };\r\n\r\n        case actionTypes.LIST_CREATED:\r\n            newState = Object.assign({}, state, { remote: actionTypes.LIST_CREATED, error: null });\r\n            newState.data[action.data._id] = action.data;\r\n            return newState;\r\n\r\n        case actionTypes.LIST_UPDATED:\r\n            newState = Object.assign({}, state, { remote: actionTypes.LIST_UPDATED, error: null });\r\n            newState.data[action.data._id] = action.data;\r\n            return newState;\r\n\r\n        case actionTypes.LIST_DELETED:\r\n            newState = Object.assign({}, state, { remote: actionTypes.LIST_DELETED, error: null });\r\n            AppHelper.deleteFromData(newState.data, action.id);\r\n            return newState;\r\n\r\n        case actionTypes.FETCH_LISTS_SUCCESS:\r\n            return Object.assign({}, state, { data: AppHelper.storeDataByKey(action.data, '_id'), remote: actionTypes.FETCH_LISTS_SUCCESS, error: null });\r\n\r\n        case actionTypes.LIST_BY_ID_FETCHED:\r\n            return Object.assign({}, state, { selected: action.list, remote: actionTypes.LIST_BY_ID_FETCHED, error: null });\r\n\r\n        case actionTypes.REMOTE_ERROR:\r\n            //TODO - decide the best place to handle remote errors\r\n            return Object.assign({}, state, { error: action.message });\r\n        default:\r\n            return state;\r\n    }\r\n}","import actionTypes from '../constants/actionTypes';\r\nimport AppHelper from '../components/common/AppHelper';\r\n\r\nexport function todoReducer(state = { data: {}, selected: null, dataByList: null, remote: null, error: null, changes: 0 }, action) {\r\n    let newState = null;\r\n    state.changes++;\r\n    switch (action.type) {\r\n        case actionTypes.LOGOUT_SUCCESS:\r\n            return { data: {}, remote: null, error: null, changes: 0 };\r\n\r\n        case actionTypes.TODO_CREATED:\r\n            newState = Object.assign({}, state, { remote: actionTypes.TODO_CREATED, error: null });\r\n            newState.data[action.data._id] = action.data;\r\n            return newState;\r\n\r\n        case actionTypes.TODO_UPDATED:\r\n            newState = Object.assign({}, state, { selected: action.data, remote: actionTypes.TODO_UPDATED, error: null });\r\n            newState.data[action.data._id] = action.data;\r\n            return newState;\r\n\r\n        case actionTypes.TODO_DELETED:\r\n            newState = Object.assign({}, state, { remote: actionTypes.TODO_DELETED, error: null });\r\n            AppHelper.deleteFromData(newState.data, action.id);\r\n            return newState;\r\n\r\n        case actionTypes.TODOS_FETCHED:\r\n            return Object.assign({}, state, { data: AppHelper.storeDataByKey(action.data, '_id'), remote: actionTypes.TODOS_FETCHED, error: null });\r\n\r\n        case actionTypes.COMPLETED_TODOS_FETCHED:\r\n            return Object.assign({}, state, { completed: AppHelper.storeDataByKey(action.data, '_id'), remote: actionTypes.COMPLETED_TODOS_FETCHED, error: null });\r\n\r\n        case actionTypes.TODOS_BY_LIST_FETCHED:\r\n            return Object.assign({}, state, { dataByList: AppHelper.storeDataByKey(action.data, '_id'), remote: actionTypes.TODOS_BY_LIST_FETCHED, error: null });\r\n\r\n        case actionTypes.TODO_BY_ID_FETCHED:\r\n            return Object.assign({}, state, { selected: action.todo, remote: actionTypes.TODO_BY_ID_FETCHED, error: null });\r\n\r\n        case actionTypes.REMOTE_ERROR:\r\n            return Object.assign({}, state, { error: action.message });\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { HashRouter as Router } from 'react-router-dom';\r\nimport reducers from './reducers/reducers';\r\nimport { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nconst store = createStore(combineReducers(reducers), applyMiddleware(thunk));\r\nstore.subscribe(() => console.log(store.getState()));\r\n\r\nReactDOM.render((\r\n    <Provider store={store}>\r\n        <Router>\r\n            <App />\r\n        </Router>\r\n    </Provider>\r\n), document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}